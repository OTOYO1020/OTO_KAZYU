{
    "id": "openstack%2Fglance~master~I76816fd495ca38a5b5433f4081c0b22c3f7544e5",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1455311",
    "hashtags": [],
    "change_id": "I76816fd495ca38a5b5433f4081c0b22c3f7544e5",
    "subject": "Fix v1 image-list doesn't honour --is-public",
    "status": "ABANDONED",
    "created": "2015-07-13 04:14:48.000000000",
    "updated": "2016-01-04 22:03:01.000000000",
    "insertions": 37,
    "deletions": 2,
    "total_comment_count": 1,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "907c5cf607537fca601d341982cb76deb00685e2",
    "_number": 200985,
    "owner": {
        "_account_id": 6484,
        "name": "Feilong Wang",
        "email": "hustemb@gmail.com",
        "username": "flwang"
    },
    "labels": {
        "Verified": {
            "disliked": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "date": "2015-10-06 03:44:35.000000000",
                    "_account_id": 18142,
                    "name": "David Sariel",
                    "email": "dsariel@redhat.com",
                    "username": "dsariel"
                },
                {
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": -1,
                    "date": "2015-07-13 04:56:21.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "disliked": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 18142,
                    "name": "David Sariel",
                    "email": "dsariel@redhat.com",
                    "username": "dsariel"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "value": -1,
                    "date": "2015-07-27 21:38:23.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "rejected": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "all": [
                {
                    "_account_id": 18142,
                    "name": "David Sariel",
                    "email": "dsariel@redhat.com",
                    "username": "dsariel"
                },
                {
                    "value": -1,
                    "date": "2015-07-13 04:42:28.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 18142,
                    "name": "David Sariel",
                    "email": "dsariel@redhat.com",
                    "username": "dsariel"
                },
                {
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            {
                "_account_id": 18142,
                "name": "David Sariel",
                "email": "dsariel@redhat.com",
                "username": "dsariel"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2015-07-13 04:56:21.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-07-27 21:38:23.000000000",
            "updated_by": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "reviewer": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-10-06 03:44:35.000000000",
            "updated_by": {
                "_account_id": 18142,
                "name": "David Sariel",
                "email": "dsariel@redhat.com",
                "username": "dsariel"
            },
            "reviewer": {
                "_account_id": 18142,
                "name": "David Sariel",
                "email": "dsariel@redhat.com",
                "username": "dsariel"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "b9a0af619fa0d8dd51f244c7b17772c50a5b5e3b",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2015-07-13 04:14:48.000000000",
            "message": "Uploaded patch set 1.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f9abe0d1eed755750d8e1f778fc0950ac0d7572d",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2015-07-13 04:42:28.000000000",
            "message": "Patch Set 1: Workflow-1",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "70a6d8af7938737d260e65ff2f117255cf3b3c64",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-07-13 04:56:21.000000000",
            "message": "Patch Set 1: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see http://docs.openstack.org/infra/manual/developers.html#automated-testing\n\n- gate-glance-python34 http://logs.openstack.org/85/200985/1/check/gate-glance-python34/b86dbe2/ : SUCCESS in 3m 21s\n- gate-glance-pep8 http://logs.openstack.org/85/200985/1/check/gate-glance-pep8/d522d51/ : SUCCESS in 2m 32s\n- gate-glance-docs http://docs-draft.openstack.org/85/200985/1/check/gate-glance-docs/b311956//doc/build/html/ : SUCCESS in 2m 31s\n- gate-glance-python27 http://logs.openstack.org/85/200985/1/check/gate-glance-python27/9f1da20/ : FAILURE in 13m 01s\n- check-tempest-dsvm-full http://logs.openstack.org/85/200985/1/check/check-tempest-dsvm-full/af4b272/ : FAILURE in 18m 37s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/85/200985/1/check/check-tempest-dsvm-postgres-full/91f54a9/ : FAILURE in 17m 28s\n- check-tempest-dsvm-neutron http://logs.openstack.org/85/200985/1/check/check-tempest-dsvm-neutron/87053ec/ : FAILURE in 29m 36s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/85/200985/1/check/check-tempest-dsvm-neutron-full/fafe06c/ : FAILURE in 26m 53s\n- check-grenade-dsvm http://logs.openstack.org/85/200985/1/check/check-grenade-dsvm/00a1639/ : FAILURE in 41m 24s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/85/200985/1/check/gate-tempest-dsvm-large-ops/0cb4d38/ : FAILURE in 14m 29s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/85/200985/1/check/gate-tempest-dsvm-neutron-large-ops/d72ffba/ : FAILURE in 15m 15s\n- check-devstack-dsvm-cells http://logs.openstack.org/85/200985/1/check/check-devstack-dsvm-cells/bbb00a4/ : FAILURE in 18m 42s\n- check-tempest-dsvm-full-ceph http://logs.openstack.org/85/200985/1/check/check-tempest-dsvm-full-ceph/f6f5145/ : FAILURE in 17m 52s\n- gate-rally-dsvm-glance http://logs.openstack.org/85/200985/1/check/gate-rally-dsvm-glance/5d17490/ : FAILURE in 19m 32s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d63f5db997fcba5c16aeefa5546cfa3468c144d5",
            "author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "real_author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "date": "2015-07-27 21:38:23.000000000",
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)\n\nAlso -1 since this is a change to the v1 API which is no longer current and which I do not think we wish to support any longer.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "63174fe4ecd202b9753339378f4ea7dcedf8cbf0",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2015-07-27 22:07:33.000000000",
            "message": "Patch Set 1:\n\nHi Ian, it's working in progress. So that's why you saw a pdb in the code :)\n\nAnd I believe v1 is still in SUPPORT status, and you know, nova is still using it. So we still need to fix bugs for v1, at least for those important bug. Thanks.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "3420ac24994098897b693f0c88c1398fe109cbe7",
            "author": {
                "_account_id": 18142,
                "name": "David Sariel",
                "email": "dsariel@redhat.com",
                "username": "dsariel"
            },
            "real_author": {
                "_account_id": 18142,
                "name": "David Sariel",
                "email": "dsariel@redhat.com",
                "username": "dsariel"
            },
            "date": "2015-10-06 03:44:35.000000000",
            "message": "Patch Set 1:\n\nThe patch overrides the behaviour described by the \n\nhttp://docs.openstack.org/developer/glance/glanceapi.html\n\nQuoting: \"Use of the is_public parameter is restricted to admin users. For all other users it will be ignored\". \n\nSo if your patch adds support of is_public for non admin users, shouldn't it also be coordinated with glance API doc\nchange?\n\nAlso, seems that your change fails the following tests that assume is_public for admin users only and they also have to be changed (after the API doc change coordination):\n\n1) glance.tests.unit.v1.test_registry_api.TestRegistryAPI.test_get_filter_no_public_with_no_admin\n\n2)\nglance.tests.unit.v1.test_registry_api.TestRegistryAPI.test_get_filter_no_public_with_no_admin\n\n3)\nglance.tests.unit.v1.test_api.TestAPIProtectedProps.test_prop_protection_with_detail_and_permitted_role\n\n4)\nglance.tests.unit.v1.test_api.TestAPIProtectedProps.test_prop_protection_with_detail_and_permitted_policy\n\n5)\n\nglance.tests.unit.v1.test_api.TestAPIProtectedProps.test_prop_protection_with_detail_and_unpermitted_role\n\n6)\n\nglance.tests.unit.v1.test_api.TestAPIProtectedProps.test_prop_protection_with_detail_and_unpermitted_role",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "cc59a3921e1c5995b61d59c75dd26610444c7897",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2015-11-05 03:17:47.000000000",
            "message": "Patch Set 1:\n\nThank, David. It's a good point. But I still can't be convinced the is_public parameter only can be used by admin. As an end user, they also need to know that kind of info. I will discuss with the other glance guys. Thanks again for the comments.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "6f4b038918a68d153efe4cdd611da6a5f27f12b7",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2016-01-04 22:03:01.000000000",
            "message": "Abandoned",
            "accounts_in_message": [],
            "_revision_number": 1
        }
    ],
    "requirements": [],
    "submit_records": []
}