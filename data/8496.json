{
    "id": "openstack%2Fglance~master~Iefbcda3885308b7a6f170e137d10e76c94952e18",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1012823",
    "hashtags": [],
    "change_id": "Iefbcda3885308b7a6f170e137d10e76c94952e18",
    "subject": "Default db_auto_create to False.",
    "status": "MERGED",
    "created": "2012-06-13 19:30:32.000000000",
    "updated": "2012-06-19 21:13:56.000000000",
    "submitted": "2012-06-19 21:13:55.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 1,
    "deletions": 1,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "e10cd98ffdebafaf9969efa04d2ae5e93f28a0cf",
    "_number": 8496,
    "owner": {
        "_account_id": 360,
        "name": "Dan Prince",
        "email": "dprince@redhat.com",
        "username": "dan-prince"
    },
    "labels": {
        "Verified": {
            "approved": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 360,
                    "name": "Dan Prince",
                    "email": "dprince@redhat.com",
                    "username": "dan-prince"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 2,
                    "date": "2012-06-19 21:13:55.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 2,
                    "date": "2012-06-14 20:43:30.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "date": "2012-06-13 19:31:09.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 360,
                    "name": "Dan Prince",
                    "email": "dprince@redhat.com",
                    "username": "dan-prince"
                },
                {
                    "value": 2,
                    "date": "2012-06-19 20:52:09.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 2,
                    "date": "2012-06-14 21:01:01.000000000",
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 1,
                    "date": "2012-06-19 16:34:44.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "date": "2012-06-13 19:31:09.000000000",
                    "_account_id": 360,
                    "name": "Dan Prince",
                    "email": "dprince@redhat.com",
                    "username": "dan-prince"
                },
                {
                    "value": 1,
                    "date": "2012-06-19 20:52:09.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 1,
                    "date": "2012-06-14 21:01:01.000000000",
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 360,
                    "name": "Dan Prince",
                    "email": "dprince@redhat.com",
                    "username": "dan-prince"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2012-06-14 21:01:01.000000000",
            "updated_by": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "reviewer": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-19 16:34:44.000000000",
            "updated_by": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "reviewer": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-19 20:52:09.000000000",
            "updated_by": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "reviewer": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-19 21:13:55.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "a5d64b644900cfa256549262533c98262db8f70e",
            "author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "real_author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "date": "2012-06-13 19:31:09.000000000",
            "message": "Patch Set 1:\n\nSee this associated devstack change will is probably going to need to land first:\n\nhttps://review.openstack.org/#/c/8495/",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "9341a2702d1c450eea6cca1020413f1c1c58ae75",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-13 19:40:11.000000000",
            "message": "Patch Set 1: Doesn't seem to work\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/801/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/983/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/492/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python27/494/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/5115/ : FAILURE\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "713b334de425af478ba43b20ec30f4f0c5b8ad0e",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-06-14 01:06:30.000000000",
            "message": "Patch Set 1:\n\nI definitely agree we shouldn't be automatically db_sync'ing on first startup. Are there any other integration points we need to be concerned with? I'm specifically worried about downstream consumers of this...",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "c8fc5d6df831b456f2ddada153eadbfe6c9b840f",
            "author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "real_author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "date": "2012-06-14 02:23:48.000000000",
            "message": "Patch Set 1:\n\nThe motivation behind this:\n\nI'm seeing some potentially racey behavior between glance-api and glance-registry now that both of them use (and try to init) the DB. My use case is mostly dev/test oriented since I'm running both on the same machine but it could happen to an end user as well.\n\nWe could get fancy and use lockfiles or something to prevent both services from trying to init the schema at the same time but think it is much easier to just disable autocreation of the schema entirely and just call db_sync.\n\nFrom an end user prospective troubleshooting the error message if the DB schema doesn't exist should be pretty straight forward:\n\nFATAL:  database \"glance\" does not exist",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "8dbf0afb88be63f16677a22c5c6c89d1a8e1c4bf",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-06-14 20:43:30.000000000",
            "message": "Patch Set 1: Looks good to me (core reviewer)\n\nDan:\n\nI definitely buy this fix, I just want to make sure we don't cause a lot of churn downstream.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "2b734a4528d62f3837a0ad3986842ff1cfe25de7",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-14 21:01:01.000000000",
            "message": "Patch Set 1: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d7f0519c7da0ed0f0354ce44e2781b98147fc621",
            "author": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "real_author": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "date": "2012-06-14 21:01:01.000000000",
            "message": "Patch Set 1: Looks good to me (core reviewer); Approved\n\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "3dae01de28a753eeae6123cad7a95272e330788b",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-14 21:31:47.000000000",
            "message": "Patch Set 1: Fails\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/821/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1003/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/512/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python27/514/ : FAILURE\n- https://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/5262/ : FAILURE\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "7b39f9e9d32de5745213e687951cd2b93367d1f8",
            "author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "real_author": {
                "_account_id": 360,
                "name": "Dan Prince",
                "email": "dprince@redhat.com",
                "username": "dan-prince"
            },
            "date": "2012-06-14 21:37:37.000000000",
            "message": "Patch Set 1:\n\nThis devstack commit needs to land before this can go in:\n\nhttps://review.openstack.org/#/c/8495/",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "8608826046fa23fdc7f48378af2b274bf425b97d",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-06-19 16:34:44.000000000",
            "message": "Patch Set 1: Approved\n\nDevstack change landed gogogo",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ce3f8addf1defa09afe776dad7f3e371dc08baa8",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 16:34:45.000000000",
            "message": "Patch Set 1: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f72d871d7345e995a4a83e9deaffd16aa2a4c682",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 16:56:11.000000000",
            "message": "Patch Set 1: Fails\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/876/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1058/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/568/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python27/569/ : FAILURE\n- https://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/5539/ : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "9a48c761602e99421d680c09c28c22d15bd12b10",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 17:04:59.000000000",
            "message": "Patch Set 1: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "77df659bacb7b81131fdb8a39c33a9a30fa1675c",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-06-19 17:04:59.000000000",
            "message": "Patch Set 1:\n\nle sigh",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "9aec940b22c76bfd0a46d16ac9e38e9e91b64674",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 17:42:25.000000000",
            "message": "Patch Set 1: Fails\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/878/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1060/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/570/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python27/571/ : FAILURE\n- https://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/5543/ : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ba6fbd0368c22507da2380f21f6d558a31cb9dd6",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2012-06-19 18:31:23.000000000",
            "message": "Patch Set 1:\n\nI sometimes get this failure because the timeout for waiting for registry and api to start up is only 3 seconds.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d3cd341b41238544afe6cbacba6c550cc77b98b2",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 20:52:09.000000000",
            "message": "Patch Set 1: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ef6613e402c078679f41b26038c70548afc9cd2f",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2012-06-19 20:52:09.000000000",
            "message": "Patch Set 1: Looks good to me (core reviewer); Approved\n\nreapproving, I think my timeout-raising merge that got in earlier should ensure this has no problem",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "4a38b135a6f53dd6a76f09c5dc7cc96744dba5ee",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 21:13:55.000000000",
            "message": "Patch Set 1: Verified\n\nBuild successful\n\n- https://jenkins.openstack.org/job/gate-glance-merge/896/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1078/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/588/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python27/589/ : SUCCESS\n- https://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/5582/ : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "78af0421689aace79a11023fb7baa0811365aa53",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-19 21:13:56.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 1
        }
    ],
    "requirements": [],
    "submit_records": []
}