{
    "id": "openstack%2Fglance~master~Ibee764e4a23435ea4cb32f6cb50762f6d96a3ead",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "feature/cap",
    "hashtags": [],
    "change_id": "Ibee764e4a23435ea4cb32f6cb50762f6d96a3ead",
    "subject": "Add per-owner number of images limit",
    "status": "ABANDONED",
    "created": "2013-08-15 13:07:50.000000000",
    "updated": "2013-08-20 11:45:51.000000000",
    "insertions": 40,
    "deletions": 4,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "7f43c8cbd82d3f6afa0599b4ee795774ae5f231b",
    "_number": 42122,
    "owner": {
        "_account_id": 455,
        "name": "Stuart McLaren",
        "email": "stuart.mclaren@hpe.com",
        "username": "stuart-mclaren"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "value": 1,
                    "date": "2013-08-15 13:56:14.000000000",
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 455,
                    "name": "Stuart McLaren",
                    "email": "stuart.mclaren@hpe.com",
                    "username": "stuart-mclaren"
                },
                {
                    "value": 1,
                    "date": "2013-08-15 14:15:29.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "disliked": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "all": [
                {
                    "value": -1,
                    "date": "2013-08-17 18:02:20.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "value": 0,
                    "date": "2013-08-15 13:55:09.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "value": -1,
                    "date": "2013-08-19 22:05:16.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": -1,
                    "date": "2013-08-16 15:11:31.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "date": "2013-08-15 13:08:35.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 455,
                    "name": "Stuart McLaren",
                    "email": "stuart.mclaren@hpe.com",
                    "username": "stuart-mclaren"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "date": "2013-08-17 18:02:20.000000000",
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "date": "2013-08-15 13:55:09.000000000",
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "date": "2013-08-19 22:05:16.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "date": "2013-08-15 13:08:35.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 455,
                    "name": "Stuart McLaren",
                    "email": "stuart.mclaren@hpe.com",
                    "username": "stuart-mclaren"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 6484,
                    "name": "Feilong Wang",
                    "email": "hustemb@gmail.com",
                    "username": "flwang"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 455,
                    "name": "Stuart McLaren",
                    "email": "stuart.mclaren@hpe.com",
                    "username": "stuart-mclaren"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2013-08-15 13:55:09.000000000",
            "updated_by": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "reviewer": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-08-15 13:56:14.000000000",
            "updated_by": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "reviewer": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-08-15 14:15:29.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-08-16 15:11:31.000000000",
            "updated_by": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "reviewer": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-08-17 18:02:20.000000000",
            "updated_by": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "reviewer": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-08-19 22:05:16.000000000",
            "updated_by": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "reviewer": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "31abb27ab28388f232a65f4952318448c64f453f",
            "author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "real_author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "date": "2013-08-15 13:08:35.000000000",
            "message": "Patch Set 1:\n\nThis is kind of a work in progress, but interested in feedback on the approach.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ac4d1af756ffadd7521a42de9b88b131af6d5157",
            "author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "real_author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "date": "2013-08-15 13:55:09.000000000",
            "message": "Patch Set 1:\n\nThe concern here is empty image records filling up db vs actual image creations? Because if later we can get quotas to cover that.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f58dcd53a441dca4d87bd693f8943803f7213e1c",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2013-08-15 13:56:14.000000000",
            "message": "Patch Set 1: Works for me\n\nSmokeStack Results (patch set 1):\n\tLibvirt (Fedora 18) Success: https://50.56.5.192/?go=/jobs/114410\n\tLibvirt (Centos 6.4) Success: https://50.56.5.192/?go=/jobs/114411\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "974911695e95490b7fb46ecd191c1331966d0999",
            "author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "real_author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "date": "2013-08-15 14:02:26.000000000",
            "message": "Patch Set 1:\n\nHey Iccha!\n\nWhich quotas do you mean? (Hoping that's not a really dumb question!)",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "245bf512a2a39711154ccc2393913f42de9a54c9",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-08-15 14:15:29.000000000",
            "message": "Patch Set 1: Works for me\n\nBuild succeeded.\n\n- http://logs.openstack.org/22/42122/1/check/gate-glance-pep8/5c9e80a : SUCCESS in 1m 54s\n- http://docs-draft.openstack.org/22/42122/1/check/gate-glance-docs/fb62213/doc/build/html/ : SUCCESS in 2m 47s\n- http://logs.openstack.org/22/42122/1/check/gate-glance-python26/5d5334f : SUCCESS in 10m 57s\n- http://logs.openstack.org/22/42122/1/check/gate-glance-python27/720032e : SUCCESS in 8m 52s\n- http://logs.openstack.org/22/42122/1/check/gate-tempest-devstack-vm-full/10f33bc : SUCCESS in 40m 24s\n- http://logs.openstack.org/22/42122/1/check/gate-tempest-devstack-vm-cells-full/51af347 : FAILURE in 13m 43s (non-voting)\n- http://logs.openstack.org/22/42122/1/check/gate-tempest-devstack-vm-testr-full/29f2b64 : SUCCESS in 28m 50s (non-voting)\n- http://logs.openstack.org/22/42122/1/check/gate-tempest-devstack-vm-postgres-full/2968522 : SUCCESS in 43m 04s\n- http://logs.openstack.org/22/42122/1/check/gate-tempest-devstack-vm-neutron/7000381 : SUCCESS in 19m 07s\n- http://logs.openstack.org/22/42122/1/check/gate-grenade-devstack-vm/6b6cbcb : SUCCESS in 21m 53s\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f0afb1bdebfb831994065d293a343c4b41a4cffd",
            "author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "real_author": {
                "_account_id": 6484,
                "name": "Feilong Wang",
                "email": "hustemb@gmail.com",
                "username": "flwang"
            },
            "date": "2013-08-16 15:11:31.000000000",
            "message": "Patch Set 1: I would prefer that you didn't merge this\n\nSimilar concern like iccha. Now jbresnah is working on th bp iccha mentioned, you can track it by this link: https://blueprints.launchpad.net/glance/+spec/glance-basic-quotas\nThe difference is he is working on image bytes, and your patch is working on image number. So I would like to see this patch can align with that BP. \n\nThis is a good work. Sorry for the blocking.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f8f75426fcdd6b5df8b13634a44b4cee375fb9ae",
            "author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "real_author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "date": "2013-08-16 20:44:58.000000000",
            "message": "Patch Set 1:\n\nFei Long Wang,\n\nThanks for the pointer to the quotas blueprint.\n\nI've sent John a pointer to this patch. It\nmay provide a starting point for his efforts\non a quota for number of images.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d31587b94f46a27c57ff8c01829eca17cb853395",
            "author": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "real_author": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "date": "2013-08-17 18:02:20.000000000",
            "message": "Patch Set 1: I would prefer that you didn't merge this\n\nThis is a good feature!  It seems inline with the simple quotas blueprint that I am working on.\n\nThere are a couple of things that concern me with this patch.  You are handling the enforcement in the DB layer.  I am not sure that this is the best place (tho I could potentially be convinced).  Originally in https://review.openstack.org/#/c/37993/ I was doing the enforcement in the same place but I eventually decided not to.  The problem is that in order to get to the DB you may go through several layers.  From the API to the registry server to the DB for example.  We should discuss this in the next glance meeting on Thursday.\n\nThe second is that if you do put this in the db API you should probably have an implementation for all dbs (in this case the simple db would need to be included).\n\nI also would like the db to raise a different type of exception and then have that exception caught in both v1 and v2 and converted to an http exception.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "95fdd796023a13802b490191fc7589271910744b",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2013-08-19 22:05:16.000000000",
            "message": "Patch Set 1: I would prefer that you didn't merge this\n\nI think applying quotas closer to the db is the right approach, but unfortunately we don't have a good enough model to support that in the right way. Doing this enforcement directly in the sqlalchemy driver is just not going to work.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "51bd30a484ec949399bffafa57b56c620f24421c",
            "author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "real_author": {
                "_account_id": 455,
                "name": "Stuart McLaren",
                "email": "stuart.mclaren@hpe.com",
                "username": "stuart-mclaren"
            },
            "date": "2013-08-20 11:45:51.000000000",
            "message": "Patch Set 1: Abandoned\n\nThree '-1s' ... I can take a hint ;-)\n\nA different approach is clearly warranted.\n\nHopefully this patch was at least useful in identifying\nwhat we don't want. :-)\n \nI'll keep an eye out for the image count limit part of the quotas blueprint.",
            "accounts_in_message": [],
            "_revision_number": 1
        }
    ],
    "requirements": [],
    "submit_records": []
}