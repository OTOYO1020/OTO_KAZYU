{
    "id": "openstack%2Fglance~master~Ia0af420c22a16d467268cd705c66e1383a75b7d6",
    "project": "openstack/glance",
    "branch": "master",
    "hashtags": [],
    "change_id": "Ia0af420c22a16d467268cd705c66e1383a75b7d6",
    "subject": "set global_request_id when request_id is passed in",
    "status": "ABANDONED",
    "created": "2017-05-26 14:55:26.000000000",
    "updated": "2017-09-19 12:01:04.000000000",
    "insertions": 1,
    "deletions": 1,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "6f6f6eba8bc6e3f845eb3950b5e4e2e2f6bdbc95",
    "_number": 468443,
    "owner": {
        "_account_id": 2750,
        "name": "Sean Dague",
        "email": "sean@dague.net",
        "username": "sdague"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "date": "2017-06-06 11:26:44.000000000",
                    "_account_id": 2750,
                    "name": "Sean Dague",
                    "email": "sean@dague.net",
                    "username": "sdague"
                },
                {
                    "date": "2017-06-09 15:21:14.000000000",
                    "_account_id": 2472,
                    "name": "Doug Hellmann",
                    "email": "dhellmann@redhat.com",
                    "username": "doug-hellmann"
                },
                {
                    "_account_id": 14070,
                    "name": "Eric Fried",
                    "email": "openstack@fried.cc",
                    "username": "efried"
                },
                {
                    "_account_id": 5202,
                    "name": "Erno Kuvaja",
                    "email": "jokke@usr.fi",
                    "username": "jokke"
                },
                {
                    "value": 1,
                    "date": "2017-06-06 12:34:50.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "disliked": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2750,
                    "name": "Sean Dague",
                    "email": "sean@dague.net",
                    "username": "sdague"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2472,
                    "name": "Doug Hellmann",
                    "email": "dhellmann@redhat.com",
                    "username": "doug-hellmann"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 14070,
                    "name": "Eric Fried",
                    "email": "openstack@fried.cc",
                    "username": "efried"
                },
                {
                    "value": -1,
                    "date": "2017-06-06 11:19:48.000000000",
                    "permitted_voting_range": {
                        "min": -2,
                        "max": 2
                    },
                    "_account_id": 5202,
                    "name": "Erno Kuvaja",
                    "email": "jokke@usr.fi",
                    "username": "jokke"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 2750,
                    "name": "Sean Dague",
                    "email": "sean@dague.net",
                    "username": "sdague"
                },
                {
                    "_account_id": 2472,
                    "name": "Doug Hellmann",
                    "email": "dhellmann@redhat.com",
                    "username": "doug-hellmann"
                },
                {
                    "_account_id": 14070,
                    "name": "Eric Fried",
                    "email": "openstack@fried.cc",
                    "username": "efried"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 5202,
                    "name": "Erno Kuvaja",
                    "email": "jokke@usr.fi",
                    "username": "jokke"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 2750,
                    "name": "Sean Dague",
                    "email": "sean@dague.net",
                    "username": "sdague"
                },
                {
                    "_account_id": 2472,
                    "name": "Doug Hellmann",
                    "email": "dhellmann@redhat.com",
                    "username": "doug-hellmann"
                },
                {
                    "_account_id": 14070,
                    "name": "Eric Fried",
                    "email": "openstack@fried.cc",
                    "username": "efried"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 2
                    },
                    "_account_id": 5202,
                    "name": "Erno Kuvaja",
                    "email": "jokke@usr.fi",
                    "username": "jokke"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 2472,
                "name": "Doug Hellmann",
                "email": "dhellmann@redhat.com",
                "username": "doug-hellmann"
            },
            {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            {
                "_account_id": 14070,
                "name": "Eric Fried",
                "email": "openstack@fried.cc",
                "username": "efried"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2017-05-26 16:45:05.000000000",
            "updated_by": {
                "_account_id": 14070,
                "name": "Eric Fried",
                "email": "openstack@fried.cc",
                "username": "efried"
            },
            "reviewer": {
                "_account_id": 14070,
                "name": "Eric Fried",
                "email": "openstack@fried.cc",
                "username": "efried"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2017-06-06 11:19:48.000000000",
            "updated_by": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "reviewer": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2017-06-06 12:34:50.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2017-06-09 15:21:14.000000000",
            "updated_by": {
                "_account_id": 2472,
                "name": "Doug Hellmann",
                "email": "dhellmann@redhat.com",
                "username": "doug-hellmann"
            },
            "reviewer": {
                "_account_id": 2472,
                "name": "Doug Hellmann",
                "email": "dhellmann@redhat.com",
                "username": "doug-hellmann"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "6f5aa70ed9da61e90914a642e52114cefd914c61",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-05-26 14:55:26.000000000",
            "message": "Uploaded patch set 1.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d505976e9b929daf5e7d8243ba3cfd78d0fb4806",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2017-05-26 16:28:27.000000000",
            "message": "Patch Set 1: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-python35 http://logs.openstack.org/43/468443/1/check/gate-glance-python35/3e3868b/ : SUCCESS in 18m 13s\n- gate-glance-docs-ubuntu-xenial http://docs-draft.openstack.org/43/468443/1/check/gate-glance-docs-ubuntu-xenial/2a9fe6e//doc/build/html/ : SUCCESS in 5m 59s\n- gate-glance-pep8-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-glance-pep8-ubuntu-xenial/5d6fc66/ : SUCCESS in 6m 14s\n- gate-glance-python27-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-glance-python27-ubuntu-xenial/a0e644b/ : SUCCESS in 9m 17s\n- gate-tempest-dsvm-neutron-full-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-tempest-dsvm-neutron-full-ubuntu-xenial/7d91ef5/ : SUCCESS in 1h 29m 18s\n- gate-grenade-dsvm-neutron-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-grenade-dsvm-neutron-ubuntu-xenial/09edc0d/ : SUCCESS in 36m 48s\n- gate-tempest-dsvm-py35-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-tempest-dsvm-py35-ubuntu-xenial/aa6677f/ : SUCCESS in 1h 16m 50s\n- gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial http://logs.openstack.org/43/468443/1/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/dab07b8/ : SUCCESS in 1h 08m 55s (non-voting)\n- gate-tempest-dsvm-neutron-identity-v3-only-full-ubuntu-xenial-nv http://logs.openstack.org/43/468443/1/check/gate-tempest-dsvm-neutron-identity-v3-only-full-ubuntu-xenial-nv/67d069c/ : SUCCESS in 1h 15m 45s (non-voting)\n- gate-rally-dsvm-glance-ubuntu-xenial-nv http://logs.openstack.org/43/468443/1/check/gate-rally-dsvm-glance-ubuntu-xenial-nv/723013c/ : SUCCESS in 30m 49s (non-voting)\n- gate-rally-dsvm-py35-glance-nv http://logs.openstack.org/43/468443/1/check/gate-rally-dsvm-py35-glance-nv/d6c2b47/ : FAILURE in 25m 00s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "b3238e83531fb5459d541403954ba9e62507a83e",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-06-06 11:08:54.000000000",
            "message": "Uploaded patch set 2: Commit message was updated.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "a810025de101536cf6e334347587f9e8605c6dce",
            "author": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "real_author": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "date": "2017-06-06 11:19:48.000000000",
            "message": "Patch Set 2: Code-Review-1\n\nHi Sean,\n\nI don't think we can/should do this. This is backwards incompatible API change and you know how community likes those.\n\nI think it's fine to set the global request ID and having the client sending that, but we need to keep the behavior of setting request ID.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "121c4b7572cf4b3211a4f22802d1597948221762",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-06-06 11:26:44.000000000",
            "message": "Patch Set 2:\n\nIn what way is this an API change? The user API remains the same, the difference is just how this is logged internally. Maybe I'm missing a bit of what the concern for an API user is.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "5a181ee2cf9e61c67cabd42ffd703fedfa633202",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2017-06-06 12:34:50.000000000",
            "message": "Patch Set 2: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-python35 http://logs.openstack.org/43/468443/2/check/gate-glance-python35/46ac26a/ : SUCCESS in 7m 09s\n- gate-glance-docs-ubuntu-xenial http://docs-draft.openstack.org/43/468443/2/check/gate-glance-docs-ubuntu-xenial/2beebd3//doc/build/html/ : SUCCESS in 6m 07s\n- gate-glance-pep8-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-glance-pep8-ubuntu-xenial/2c5ef59/ : SUCCESS in 3m 34s\n- gate-glance-python27-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-glance-python27-ubuntu-xenial/93968fd/ : SUCCESS in 9m 49s\n- gate-tempest-dsvm-neutron-full-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-tempest-dsvm-neutron-full-ubuntu-xenial/4aa533d/ : SUCCESS in 1h 24m 01s\n- gate-grenade-dsvm-neutron-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-grenade-dsvm-neutron-ubuntu-xenial/a54a977/ : SUCCESS in 34m 44s\n- gate-tempest-dsvm-py35-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-tempest-dsvm-py35-ubuntu-xenial/4efcc5e/ : SUCCESS in 1h 07m 31s\n- gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial http://logs.openstack.org/43/468443/2/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/6f488e1/ : FAILURE in 1h 16m 20s (non-voting)\n- gate-tempest-dsvm-neutron-identity-v3-only-full-ubuntu-xenial-nv http://logs.openstack.org/43/468443/2/check/gate-tempest-dsvm-neutron-identity-v3-only-full-ubuntu-xenial-nv/6b52a2c/ : SUCCESS in 1h 20m 33s (non-voting)\n- gate-rally-dsvm-glance-ubuntu-xenial-nv http://logs.openstack.org/43/468443/2/check/gate-rally-dsvm-glance-ubuntu-xenial-nv/d912608/ : SUCCESS in 34m 54s (non-voting)\n- gate-rally-dsvm-py35-glance-nv http://logs.openstack.org/43/468443/2/check/gate-rally-dsvm-py35-glance-nv/24d0ad3/ : FAILURE in 30m 55s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "d3cf8ca0a5652861d62ba78d2595f74c2b10c275",
            "author": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "real_author": {
                "_account_id": 5202,
                "name": "Erno Kuvaja",
                "email": "jokke@usr.fi",
                "username": "jokke"
            },
            "date": "2017-06-06 12:41:01.000000000",
            "message": "Patch Set 2:\n\nThe request-id is returned to the user. So currently if user sends request ID with the call to glance-(api or registry) they will get that same request ID back what they just set. After this change that would not be the case anymore. This is also the reason why glance did not adapt the oslo.middleware as it prevented to do the same.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "5707cd89defd98dc8ad7825b3b48fdba714ed1e4",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-06-06 15:44:46.000000000",
            "message": "Patch Set 2:\n\nWell by changing the existing glance request_id, instead of just the global id, you end up making it much harder to keep track of interactions that include multiple calls to glance, as they will all have the same request_id.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "de2f74af716f5c3de9f5cf95be9f0544365efe8f",
            "author": {
                "_account_id": 2472,
                "name": "Doug Hellmann",
                "email": "dhellmann@redhat.com",
                "username": "doug-hellmann"
            },
            "real_author": {
                "_account_id": 2472,
                "name": "Doug Hellmann",
                "email": "dhellmann@redhat.com",
                "username": "doug-hellmann"
            },
            "date": "2017-06-09 15:21:14.000000000",
            "message": "Patch Set 2:\n\n> Well by changing the existing glance request_id, instead of just\n > the global id, you end up making it much harder to keep track of\n > interactions that include multiple calls to glance, as they will\n > all have the same request_id.\n\nIs it possible to add the new value to the context, without removing request_id?",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "310ee4184432efffa37ed168f46df617ae67e3d1",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-06-13 11:16:10.000000000",
            "message": "Patch Set 2:\n\n@doug, it is. It will however make it not possible to distinguish between the metadata fetch and download from glance during operations driven by other services. Loosing that distinction seems pretty suboptimal.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "6f6f6eba8bc6e3f845eb3950b5e4e2e2f6bdbc95",
            "author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "real_author": {
                "_account_id": 2750,
                "name": "Sean Dague",
                "email": "sean@dague.net",
                "username": "sdague"
            },
            "date": "2017-09-19 12:01:04.000000000",
            "message": "Abandoned",
            "accounts_in_message": [],
            "_revision_number": 2
        }
    ],
    "requirements": [],
    "submit_records": []
}