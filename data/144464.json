{
    "id": "openstack%2Fglance~master~I47229b366c25367ec1bd48aec684e0880f3dfe60",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1383973",
    "hashtags": [],
    "change_id": "I47229b366c25367ec1bd48aec684e0880f3dfe60",
    "subject": "Cleanup chunks for deleted image that was 'saving'",
    "status": "MERGED",
    "created": "2014-12-30 14:45:54.000000000",
    "updated": "2015-01-23 10:22:44.000000000",
    "submitted": "2015-01-17 00:26:16.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 101,
    "deletions": 84,
    "total_comment_count": 2,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "c5ea40181804de1ffc30f3e85b1082bdd36c2375",
    "_number": 144464,
    "owner": {
        "_account_id": 6549,
        "name": "Zhi Yan Liu",
        "email": "lzy.dev@gmail.com",
        "username": "lzy-dev"
    },
    "labels": {
        "Verified": {
            "approved": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 9311,
                    "name": "Tristan Cacqueray",
                    "email": "tdecacqu@redhat.com",
                    "username": "tristanC"
                },
                {
                    "value": 0,
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "value": 0,
                    "_account_id": 9096,
                    "name": "Cindy Pallares",
                    "email": "u1@cindy.sh",
                    "username": "cpallares"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "date": "2015-01-23 10:22:44.000000000",
                    "post_submit": true,
                    "_account_id": 6549,
                    "name": "Zhi Yan Liu",
                    "email": "lzy.dev@gmail.com",
                    "username": "lzy-dev"
                },
                {
                    "value": 0,
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": 2,
                    "date": "2015-01-17 00:26:16.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 9311,
                    "name": "Tristan Cacqueray",
                    "email": "tdecacqu@redhat.com",
                    "username": "tristanC"
                },
                {
                    "value": 2,
                    "date": "2015-01-16 21:13:32.000000000",
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "value": 0,
                    "_account_id": 9096,
                    "name": "Cindy Pallares",
                    "email": "u1@cindy.sh",
                    "username": "cpallares"
                },
                {
                    "value": 2,
                    "date": "2015-01-15 15:57:38.000000000",
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "_account_id": 6549,
                    "name": "Zhi Yan Liu",
                    "email": "lzy.dev@gmail.com",
                    "username": "lzy-dev"
                },
                {
                    "value": 1,
                    "date": "2015-01-15 15:59:30.000000000",
                    "permitted_voting_range": {
                        "min": 1,
                        "max": 1
                    },
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 9311,
                    "name": "Tristan Cacqueray",
                    "email": "tdecacqu@redhat.com",
                    "username": "tristanC"
                },
                {
                    "value": 1,
                    "date": "2015-01-16 21:13:32.000000000",
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "value": 0,
                    "_account_id": 9096,
                    "name": "Cindy Pallares",
                    "email": "u1@cindy.sh",
                    "username": "cpallares"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "_account_id": 6549,
                    "name": "Zhi Yan Liu",
                    "email": "lzy.dev@gmail.com",
                    "username": "lzy-dev"
                },
                {
                    "value": 0,
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 9311,
                    "name": "Tristan Cacqueray",
                    "email": "tdecacqu@redhat.com",
                    "username": "tristanC"
                },
                {
                    "value": 0,
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "value": 0,
                    "_account_id": 9096,
                    "name": "Cindy Pallares",
                    "email": "u1@cindy.sh",
                    "username": "cpallares"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "_account_id": 6549,
                    "name": "Zhi Yan Liu",
                    "email": "lzy.dev@gmail.com",
                    "username": "lzy-dev"
                },
                {
                    "value": 0,
                    "_account_id": 12000,
                    "name": "Ian Cordasco",
                    "email": "sigmavirus24@gmail.com",
                    "username": "sigmavirus24"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            {
                "_account_id": 9096,
                "name": "Cindy Pallares",
                "email": "u1@cindy.sh",
                "username": "cpallares"
            },
            {
                "_account_id": 9311,
                "name": "Tristan Cacqueray",
                "email": "tdecacqu@redhat.com",
                "username": "tristanC"
            },
            {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2015-01-02 17:43:53.000000000",
            "updated_by": {
                "_account_id": 9096,
                "name": "Cindy Pallares",
                "email": "u1@cindy.sh",
                "username": "cpallares"
            },
            "reviewer": {
                "_account_id": 9096,
                "name": "Cindy Pallares",
                "email": "u1@cindy.sh",
                "username": "cpallares"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-01-12 19:00:53.000000000",
            "updated_by": {
                "_account_id": 9311,
                "name": "Tristan Cacqueray",
                "email": "tdecacqu@redhat.com",
                "username": "tristanC"
            },
            "reviewer": {
                "_account_id": 9311,
                "name": "Tristan Cacqueray",
                "email": "tdecacqu@redhat.com",
                "username": "tristanC"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-01-15 15:57:38.000000000",
            "updated_by": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "reviewer": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-01-15 15:59:30.000000000",
            "updated_by": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "reviewer": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-01-16 21:13:32.000000000",
            "updated_by": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "reviewer": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-01-17 00:26:16.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "782c552a105b6cf815623164f71a50ea0b8d2266",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2014-12-30 14:45:54.000000000",
            "message": "Uploaded patch set 1.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ea204e4cba1a40b23e677fa4fbeabc506f9be3e5",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2014-12-30 16:23:42.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "54c708c0e8f01848429d1ad737c7d2924fa34133",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2014-12-30 16:24:39.000000000",
            "message": "Patch Set 2: Workflow-1\n\nWIP, will add a test case for v1 stuff asap.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "b5d2df86c6911f54efc381907f286c26c9e52886",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-12-30 17:25:44.000000000",
            "message": "Patch Set 2: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-pep8 http://logs.openstack.org/64/144464/2/check/gate-glance-pep8/9e06835/ : SUCCESS in 2m 50s\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/2/check/gate-glance-docs/f8db431//doc/build/html/ : SUCCESS in 2m 28s\n- gate-glance-python27 http://logs.openstack.org/64/144464/2/check/gate-glance-python27/11efa0a/ : SUCCESS in 6m 47s\n- check-tempest-dsvm-full http://logs.openstack.org/64/144464/2/check/check-tempest-dsvm-full/3bbb74e/ : SUCCESS in 36m 28s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/2/check/check-tempest-dsvm-postgres-full/f02e4e2/ : SUCCESS in 39m 24s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/2/check/check-tempest-dsvm-neutron-full/04a9b49/ : SUCCESS in 58m 32s\n- check-grenade-dsvm http://logs.openstack.org/64/144464/2/check/check-grenade-dsvm/489fb59/ : SUCCESS in 34m 13s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/2/check/gate-tempest-dsvm-large-ops/5fb9e2a/ : SUCCESS in 29m 27s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/2/check/gate-tempest-dsvm-neutron-large-ops/d0950c9/ : SUCCESS in 28m 08s\n- check-devstack-dsvm-cells http://logs.openstack.org/64/144464/2/check/check-devstack-dsvm-cells/539b902/ : SUCCESS in 16m 00s\n- gate-rally-dsvm-glance http://logs.openstack.org/64/144464/2/check/gate-rally-dsvm-glance/9cf93ba/ : SUCCESS in 26m 18s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "1fff701018b1be985063a47c2b5af8e9de8ac688",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2014-12-31 08:09:53.000000000",
            "message": "Uploaded patch set 3.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "82003b18b0d7faf20d24cd6c43208cf67cd3dba3",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2014-12-31 08:13:59.000000000",
            "message": "Patch Set 3:\n\nFully ready to get review, thanks.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "43421fbaf9e93e9ecb19a99363fc7c6ebd2d5495",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-12-31 08:53:50.000000000",
            "message": "Patch Set 3: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-pep8 http://logs.openstack.org/64/144464/3/check/gate-glance-pep8/3ce4806/ : SUCCESS in 2m 07s\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/3/check/gate-glance-docs/ee2b265//doc/build/html/ : SUCCESS in 1m 44s\n- gate-glance-python27 http://logs.openstack.org/64/144464/3/check/gate-glance-python27/a321f51/ : SUCCESS in 5m 53s\n- check-tempest-dsvm-full http://logs.openstack.org/64/144464/3/check/check-tempest-dsvm-full/f04ef66/ : SUCCESS in 31m 41s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/3/check/check-tempest-dsvm-postgres-full/2079daf/ : SUCCESS in 31m 59s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/3/check/check-tempest-dsvm-neutron-full/fd8f443/ : SUCCESS in 43m 53s\n- check-grenade-dsvm http://logs.openstack.org/64/144464/3/check/check-grenade-dsvm/5286f42/ : SUCCESS in 30m 53s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/3/check/gate-tempest-dsvm-large-ops/d3cb126/ : SUCCESS in 28m 30s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/3/check/gate-tempest-dsvm-neutron-large-ops/529c591/ : SUCCESS in 23m 00s\n- check-devstack-dsvm-cells http://logs.openstack.org/64/144464/3/check/check-devstack-dsvm-cells/f12797c/ : SUCCESS in 16m 27s\n- gate-rally-dsvm-glance http://logs.openstack.org/64/144464/3/check/gate-rally-dsvm-glance/7011b12/ : SUCCESS in 26m 05s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "a7b03113377e8a0e175e1629a682733fdc77089c",
            "author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "real_author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "date": "2015-01-02 15:11:46.000000000",
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)\n\nOne concern, but it isn't significant enough to warrant a -1",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "e4c8d316a9ea36cffc58ceb8da32cf6ee9ba02ca",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-05 04:42:47.000000000",
            "message": "Patch Set 3: Verified-1\n\nMerge Failed.\n\nThis change was unable to be automatically merged with the current state of the repository. Please rebase your change and upload a new patchset.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "83c572852bbacffd9fac8e82625d80ca6eefa592",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2015-01-06 08:10:23.000000000",
            "message": "Uploaded patch set 4.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "5882b5f6d8c0571485ab51c8bc510fc2c62eee84",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2015-01-06 08:18:24.000000000",
            "message": "Patch Set 4:\n\nPure rebase, due to my i18n fix change get merged first, ify.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "b66e5038a55a38746064cc49e2950f53797abddf",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-06 09:18:52.000000000",
            "message": "Patch Set 4: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-pep8 http://logs.openstack.org/64/144464/4/check/gate-glance-pep8/a7ac706/ : SUCCESS in 2m 37s\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/4/check/gate-glance-docs/c17c492//doc/build/html/ : SUCCESS in 2m 20s\n- gate-glance-python27 http://logs.openstack.org/64/144464/4/check/gate-glance-python27/2c4b50c/ : SUCCESS in 6m 39s\n- check-tempest-dsvm-full http://logs.openstack.org/64/144464/4/check/check-tempest-dsvm-full/a87ccb1/ : SUCCESS in 42m 18s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/4/check/check-tempest-dsvm-postgres-full/8e2cdba/ : SUCCESS in 41m 17s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/4/check/check-tempest-dsvm-neutron-full/03448e7/ : SUCCESS in 54m 36s\n- check-grenade-dsvm http://logs.openstack.org/64/144464/4/check/check-grenade-dsvm/65760fd/ : SUCCESS in 30m 46s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/4/check/gate-tempest-dsvm-large-ops/7b9827e/ : SUCCESS in 22m 55s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/4/check/gate-tempest-dsvm-neutron-large-ops/cf317c4/ : SUCCESS in 22m 56s\n- check-devstack-dsvm-cells http://logs.openstack.org/64/144464/4/check/check-devstack-dsvm-cells/70f96ed/ : SUCCESS in 16m 54s\n- gate-rally-dsvm-glance http://logs.openstack.org/64/144464/4/check/gate-rally-dsvm-glance/6462075/ : SUCCESS in 27m 31s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "82a4b62312941d6d81322340a1641c0d6848bc54",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-07 22:01:08.000000000",
            "message": "Patch Set 4: Code-Review-2\n\nDon't see how it solves either of the bugs. \n\nThe deletion of data is happening after the upload has finished. The quota managements issue is not solved either. We can definitely use this as enhancement however, we should indicate this this approach does not completely align with the bug description.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "9b28820986dc3e1d4f57084c67a72a699374d4b2",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2015-01-08 10:15:16.000000000",
            "message": "Patch Set 4:\n\nHope the explanation makes you sense.\n\n>> The deletion of data is happening after the upload has finished.\n\nYep, due to the root cause of this issue is image data cannot be removed when deleting it on saving status, this patch just to fix it. That means, for the bug described case, the temporary chunks saved during uploading could be removed from file store (/opt/stack/data/glance/images e.g.) when the upload finish, it means these aren't any leaked partial image in the store, with the pre-check for quota before image uploading, finally quota will/can not exceeded. I have a deep thinking for this to improve performance, ref [0].\n\n>> The quota managements issue is not solved either.\n\nCurrently glance quota counting is based on image locations, it's a pre-check before saving any upload chunks, so that means saving state image is not taken into account by global quota enforcement, as I commented in the bug report, I think this is a limitation in our current design, glance didn't have a location reserve feature, and with the talking between Stuart and me in bug #1383973, we think reserving way is too tricky.\n\n>> We can definitely use this as enhancement however, we should indicate this this approach does not completely align with the bug description.\n\nThis patch could fix the issue that bug reported, you can run the the test_images.py [1] with this change to verify it.\n\n[1] https://i191757748.restricted.launchpadlibrarian.net/191757748/test_images.py?token=p2M77PxwChlKrxX3f5VkHf8GCrh37KGN\n\n[0] This patch/solution could complete fix the bug, but it has some delay, it means the 'wrong' uploading process will be handled only _after_ store.add() operation return, so the better way , for performance and for better storage operation, I consider we probably need add a 'cancel' operation to store, this idea could based on my store-capabilities idea/change. I'd like to talk about in near weekly meeting with team.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "7a0e0c1f0ef19d6e09b6929644c3d5fc15e8a2d2",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2015-01-12 02:30:29.000000000",
            "message": "Patch Set 4:\n\nnikhil, anything else we need talk/discuss here pls let me know it.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "c2028790bdf6b26060654d4f50cfd2e498a12d73",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-13 05:24:19.000000000",
            "message": "Patch Set 4: Code-Review+1\n\nAfter discussing this offline and clarifying the response given in the earlier comment, I feel comfortable with this change for the bug # mentioned.\n\nCan we clean up the commit message a bit? +2 after that.\n\nSomething like:\n\n---\n\nCleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that is in saving state. When the upload for such an image is completed the operator configured quota can likely be exceeded. ... <the cases for which quota _may_ exceed and for those where the quota limitation would be respected>\n\nThis change introduces a inconsonance between http response codes for v1 and v2 APIs ... <the cases of those codes>\n\nCloses-Bug: __abcd__\nFixes Bug: __wxyz__\n(i.e. Fixes Bug on two separate lines to that they are linked)\nYou may want to indicate the concerned bug as:\nPartial-Bug (at least the second bug number seems to be fixed partially)\n\n---\n\n\nAlso, we would need all these flags (APIImpact, DocImpact, SecurityImpact, UpgradeImpact) here: http://docs.openstack.org/infra/manual/developers.html#peer-review\n\nI think we should probably plan on introducing a tempest test for this scenario.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "379716bbe475dca11bbe1628a4f8705102ddc46d",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-13 05:27:12.000000000",
            "message": "Patch Set 4:\n\nThe line about the bugs did not come in a good format earlier:\n\nCloses-Bug: _abcd_\n\nPartial-Bug: _wxyz_",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "409c1233453bbfe41e3db2e7b1e457378e1dcac5",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-14 23:08:37.000000000",
            "message": "Patch Set 5: Commit message was updated",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "38ea9a19342837927caf4d1b78299b8bf7f390a2",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-14 23:14:02.000000000",
            "message": "Uploaded patch set 6.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "ece92ff8a7fc9b252780ebd269dbe70d62d7a21c",
            "author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "real_author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "date": "2015-01-14 23:24:43.000000000",
            "message": "Patch Set 6:\n\nI think this is a far more exhaustive fix than https://review.openstack.org/#/c/121639/ \n\nIt would probably be worth adding bug 1188532 to the commit message as well.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "a3ca078946a6d4e80166f2f94b8bf1179764f6aa",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-15 00:35:56.000000000",
            "message": "Patch Set 6: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-pep8 http://logs.openstack.org/64/144464/6/check/gate-glance-pep8/ca2882e/ : SUCCESS in 2m 10s\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/6/check/gate-glance-docs/57e6fc1//doc/build/html/ : SUCCESS in 2m 10s\n- gate-glance-python27 http://logs.openstack.org/64/144464/6/check/gate-glance-python27/d33b5c6/ : SUCCESS in 4m 58s\n- check-tempest-dsvm-full http://logs.openstack.org/64/144464/6/check/check-tempest-dsvm-full/247c9e8/ : SUCCESS in 44m 19s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/6/check/check-tempest-dsvm-postgres-full/d245260/ : SUCCESS in 34m 05s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/6/check/check-tempest-dsvm-neutron-full/883119d/ : SUCCESS in 1h 18m 14s\n- check-grenade-dsvm http://logs.openstack.org/64/144464/6/check/check-grenade-dsvm/c1d0632/ : SUCCESS in 37m 53s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/6/check/gate-tempest-dsvm-large-ops/21bd9fe/ : SUCCESS in 20m 39s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/6/check/gate-tempest-dsvm-neutron-large-ops/c0f2f28/ : SUCCESS in 17m 18s\n- check-devstack-dsvm-cells http://logs.openstack.org/64/144464/6/check/check-devstack-dsvm-cells/86d6231/ : SUCCESS in 14m 50s\n- gate-rally-dsvm-glance http://logs.openstack.org/64/144464/6/check/gate-rally-dsvm-glance/2db779d/ : SUCCESS in 26m 51s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "3c8bcdcfcecd60b82c1c8dd4f73ac645054f3ac8",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-15 15:52:56.000000000",
            "message": "Patch Set 6:\n\nAfter a bit more of offline discussion, I think we can state here that:\n\n1. This bug resolves the \"vulnerability\" issue of Image leak and global quota exceeding.\n\n2. The design restrictions may still fail the enforcement of global quota in some corner cases. Attacker can't trigger that corner case.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "7dedaea060ed8ef280bbdd1188f941aec99c4fc5",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-15 15:56:56.000000000",
            "message": "Patch Set 7: Commit message was updated",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "f2def1ec4d998bf869f8135c3f9acf7b40ec4739",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2015-01-15 15:57:38.000000000",
            "message": "Patch Set 7: Code-Review+2",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "74d97b7643217d7c74bf7f0425ba0e41fd5e730c",
            "author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "real_author": {
                "_account_id": 12000,
                "name": "Ian Cordasco",
                "email": "sigmavirus24@gmail.com",
                "username": "sigmavirus24"
            },
            "date": "2015-01-15 15:59:30.000000000",
            "message": "Patch Set 7: Code-Review+1",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "89852585cefa2cfc6029ee546bc0184cb2f44fa0",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-15 16:47:33.000000000",
            "message": "Patch Set 7: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-pep8 http://logs.openstack.org/64/144464/7/check/gate-glance-pep8/19c1788/ : SUCCESS in 2m 32s\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/7/check/gate-glance-docs/6e26931//doc/build/html/ : SUCCESS in 2m 08s\n- gate-glance-python27 http://logs.openstack.org/64/144464/7/check/gate-glance-python27/dd82d56/ : SUCCESS in 4m 40s\n- check-tempest-dsvm-full http://logs.openstack.org/64/144464/7/check/check-tempest-dsvm-full/967eb12/ : SUCCESS in 46m 12s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/7/check/check-tempest-dsvm-postgres-full/a7fb060/ : SUCCESS in 39m 15s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/7/check/check-tempest-dsvm-neutron-full/deeccaf/ : SUCCESS in 49m 39s\n- check-grenade-dsvm http://logs.openstack.org/64/144464/7/check/check-grenade-dsvm/77f61ab/ : SUCCESS in 35m 40s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/7/check/gate-tempest-dsvm-large-ops/b05abe8/ : SUCCESS in 19m 02s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/7/check/gate-tempest-dsvm-neutron-large-ops/ff1c355/ : SUCCESS in 15m 03s\n- check-devstack-dsvm-cells http://logs.openstack.org/64/144464/7/check/check-devstack-dsvm-cells/cc81c15/ : SUCCESS in 15m 07s\n- gate-rally-dsvm-glance http://logs.openstack.org/64/144464/7/check/gate-rally-dsvm-glance/130f337/ : SUCCESS in 29m 49s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "381f96248e509ccf6d8ec8ef0638aaf4052136c0",
            "author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "real_author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "date": "2015-01-16 21:13:32.000000000",
            "message": "Patch Set 7: Code-Review+2 Workflow+1",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "f41a9d121db805afa885670b0acdc16bcef9d2f4",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-16 21:13:33.000000000",
            "message": "Patch Set 7: -Verified\n\nStarting gate jobs.\nhttp://status.openstack.org/zuul/",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "ae6db41fe8581e52775c8f75afeb4982327f5c39",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-17 00:26:16.000000000",
            "message": "Patch Set 7: Verified+2\n\nBuild succeeded (gate pipeline).\n\n- gate-glance-docs http://docs-draft.openstack.org/64/144464/7/gate/gate-glance-docs/f6025d1//doc/build/html/ : SUCCESS in 2m 12s\n- gate-glance-pep8 http://logs.openstack.org/64/144464/7/gate/gate-glance-pep8/b546724/ : SUCCESS in 2m 24s\n- gate-glance-python27 http://logs.openstack.org/64/144464/7/gate/gate-glance-python27/f27a1a7/ : SUCCESS in 5m 03s\n- gate-tempest-dsvm-full http://logs.openstack.org/64/144464/7/gate/gate-tempest-dsvm-full/9fe67fc/ : SUCCESS in 39m 52s\n- gate-tempest-dsvm-postgres-full http://logs.openstack.org/64/144464/7/gate/gate-tempest-dsvm-postgres-full/5fcc634/ : SUCCESS in 35m 53s\n- gate-tempest-dsvm-neutron-full http://logs.openstack.org/64/144464/7/gate/gate-tempest-dsvm-neutron-full/bf5ba9d/ : SUCCESS in 1h 00m 00s\n- gate-grenade-dsvm http://logs.openstack.org/64/144464/7/gate/gate-grenade-dsvm/5514e7d/ : SUCCESS in 34m 16s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/64/144464/7/gate/gate-tempest-dsvm-large-ops/183793e/ : SUCCESS in 21m 19s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/64/144464/7/gate/gate-tempest-dsvm-neutron-large-ops/d0f658f/ : SUCCESS in 20m 33s\n- gate-devstack-dsvm-cells http://logs.openstack.org/64/144464/7/gate/gate-devstack-dsvm-cells/4a3e2ba/ : SUCCESS in 17m 27s",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "30dc0afc9450eb321999747a754cd339455d03ba",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-01-17 00:26:18.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 7
        },
        {
            "id": "12bc1e8369b1e60980687baf816c56f986ba5c15",
            "author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "real_author": {
                "_account_id": 6549,
                "name": "Zhi Yan Liu",
                "email": "lzy.dev@gmail.com",
                "username": "lzy-dev"
            },
            "date": "2015-01-23 10:22:44.000000000",
            "message": "Patch Set 7:\n\n(1 comment)\n\n>>> 2. The design restrictions may still fail the enforcement of global quota in some corner cases. Attacker can't trigger that corner case.\n\nAs I mentioned in last last weekly meeting, the corner case is for this issue is that because glance used upload 'thread' to revoke these 'canceled' image, so the storage space will exceed global quota limitation _temporarily_, when upload 'thread' clear these chunks out, the final space usage will be ok (less then quota).",
            "accounts_in_message": [],
            "_revision_number": 7
        }
    ],
    "requirements": [],
    "submit_records": []
}