{
    "id": "openstack%2Fglance~master~I2aedfaea9a37d301ed174e5d7f6053d89e5d453e",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1530328",
    "hashtags": [],
    "change_id": "I2aedfaea9a37d301ed174e5d7f6053d89e5d453e",
    "subject": "keep the token alive when uploading image to store",
    "status": "ABANDONED",
    "created": "2015-12-31 12:22:30.000000000",
    "updated": "2016-02-29 17:17:10.000000000",
    "insertions": 30,
    "deletions": 2,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "18e436179893ba4a3320abecb4ad4dba0a24dada",
    "_number": 262770,
    "owner": {
        "_account_id": 15424,
        "name": "javeme",
        "email": "javaloveme@gmail.com",
        "username": "javeme"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "date": "2016-01-05 09:05:55.000000000",
                    "_account_id": 17116,
                    "name": "Niall Bunting",
                    "email": "niall.bunting@hpe.com",
                    "username": "NiallBunting"
                },
                {
                    "_account_id": 15054,
                    "name": "wangxiyuan",
                    "email": "wangxiyuan1007@gmail.com",
                    "username": "wangxiyuan"
                },
                {
                    "_account_id": 11391,
                    "name": "Mikhail Fedosin",
                    "email": "mfedosin@redhat.com",
                    "username": "fedosinme"
                },
                {
                    "_account_id": 14676,
                    "name": "Kairat Kushaev",
                    "email": "kkushaev@mirantis.com",
                    "username": "kairat_kushaev"
                },
                {
                    "value": 1,
                    "date": "2015-12-31 20:06:21.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "rejected": {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            "disliked": {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            "all": [
                {
                    "value": -1,
                    "date": "2016-01-05 09:06:07.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 17116,
                    "name": "Niall Bunting",
                    "email": "niall.bunting@hpe.com",
                    "username": "NiallBunting"
                },
                {
                    "value": -1,
                    "date": "2016-01-05 02:35:51.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 15054,
                    "name": "wangxiyuan",
                    "email": "wangxiyuan1007@gmail.com",
                    "username": "wangxiyuan"
                },
                {
                    "value": -2,
                    "date": "2016-02-29 11:55:03.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 11391,
                    "name": "Mikhail Fedosin",
                    "email": "mfedosin@redhat.com",
                    "username": "fedosinme"
                },
                {
                    "value": -1,
                    "date": "2016-02-29 11:17:48.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 14676,
                    "name": "Kairat Kushaev",
                    "email": "kkushaev@mirantis.com",
                    "username": "kairat_kushaev"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "_account_id": 17116,
                    "name": "Niall Bunting",
                    "email": "niall.bunting@hpe.com",
                    "username": "NiallBunting"
                },
                {
                    "_account_id": 15054,
                    "name": "wangxiyuan",
                    "email": "wangxiyuan1007@gmail.com",
                    "username": "wangxiyuan"
                },
                {
                    "_account_id": 11391,
                    "name": "Mikhail Fedosin",
                    "email": "mfedosin@redhat.com",
                    "username": "fedosinme"
                },
                {
                    "_account_id": 14676,
                    "name": "Kairat Kushaev",
                    "email": "kkushaev@mirantis.com",
                    "username": "kairat_kushaev"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 17116,
                    "name": "Niall Bunting",
                    "email": "niall.bunting@hpe.com",
                    "username": "NiallBunting"
                },
                {
                    "_account_id": 15054,
                    "name": "wangxiyuan",
                    "email": "wangxiyuan1007@gmail.com",
                    "username": "wangxiyuan"
                },
                {
                    "_account_id": 11391,
                    "name": "Mikhail Fedosin",
                    "email": "mfedosin@redhat.com",
                    "username": "fedosinme"
                },
                {
                    "_account_id": 14676,
                    "name": "Kairat Kushaev",
                    "email": "kkushaev@mirantis.com",
                    "username": "kairat_kushaev"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            {
                "_account_id": 14676,
                "name": "Kairat Kushaev",
                "email": "kkushaev@mirantis.com",
                "username": "kairat_kushaev"
            },
            {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2015-12-31 20:06:21.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2016-01-05 02:35:51.000000000",
            "updated_by": {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            "reviewer": {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2016-01-05 09:05:55.000000000",
            "updated_by": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "reviewer": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2016-02-29 11:17:48.000000000",
            "updated_by": {
                "_account_id": 14676,
                "name": "Kairat Kushaev",
                "email": "kkushaev@mirantis.com",
                "username": "kairat_kushaev"
            },
            "reviewer": {
                "_account_id": 14676,
                "name": "Kairat Kushaev",
                "email": "kkushaev@mirantis.com",
                "username": "kairat_kushaev"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2016-02-29 11:55:03.000000000",
            "updated_by": {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            "reviewer": {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "a21789f8b85647d08095cec036954ea263f602f1",
            "author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "real_author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "date": "2015-12-31 12:22:30.000000000",
            "message": "Uploaded patch set 1.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "2fcbcb77dda9d3105f25aec6d173653d076bbed1",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-12-31 13:07:44.000000000",
            "message": "Patch Set 1: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see http://docs.openstack.org/infra/manual/developers.html#automated-testing\n\n- gate-glance-python34 http://logs.openstack.org/70/262770/1/check/gate-glance-python34/2b3457c/ : FAILURE in 2m 36s\n- gate-glance-pep8 http://logs.openstack.org/70/262770/1/check/gate-glance-pep8/65eb1c1/ : SUCCESS in 2m 07s\n- gate-glance-docs http://docs-draft.openstack.org/70/262770/1/check/gate-glance-docs/d655f28//doc/build/html/ : SUCCESS in 2m 33s\n- gate-glance-python27 http://logs.openstack.org/70/262770/1/check/gate-glance-python27/76dae05/ : FAILURE in 2m 24s\n- gate-tempest-dsvm-full http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-full/5c87908/ : FAILURE in 20m 58s\n- gate-tempest-dsvm-postgres-full http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-postgres-full/92f16b9/ : FAILURE in 21m 48s\n- gate-tempest-dsvm-neutron-full http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-neutron-full/4d53b90/ : FAILURE in 21m 36s\n- gate-grenade-dsvm http://logs.openstack.org/70/262770/1/check/gate-grenade-dsvm/23d3885/ : FAILURE in 45m 04s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-large-ops/d15e851/ : FAILURE in 18m 56s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-neutron-large-ops/740278e/ : FAILURE in 18m 23s\n- gate-tempest-dsvm-full-ceph http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-full-ceph/195e105/ : FAILURE in 22m 52s\n- gate-tempest-dsvm-full-devstack-plugin-ceph-nv http://logs.openstack.org/70/262770/1/check/gate-tempest-dsvm-full-devstack-plugin-ceph-nv/623b98e/ : FAILURE in 26m 11s (non-voting)\n- gate-rally-dsvm-glance http://logs.openstack.org/70/262770/1/check/gate-rally-dsvm-glance/32683b0/ : FAILURE in 20m 47s (non-voting)\n- gate-glance-python27-constraints http://logs.openstack.org/70/262770/1/check/gate-glance-python27-constraints/5d93d06/ : FAILURE in 2m 24s (non-voting)\n- gate-glance-python34-constraints http://logs.openstack.org/70/262770/1/check/gate-glance-python34-constraints/4c4b514/ : FAILURE in 3m 31s (non-voting)\n- gate-glance-docs-constraints http://docs-draft.openstack.org/70/262770/1/check/gate-glance-docs-constraints/ed09745//doc/build/html/ : SUCCESS in 2m 56s (non-voting)\n- gate-glance-pep8-constraints http://logs.openstack.org/70/262770/1/check/gate-glance-pep8-constraints/4b9ba0a/ : SUCCESS in 2m 18s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "613f89bda3b97f5c78f913c83d1cfae6dce81a71",
            "author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "real_author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "date": "2015-12-31 19:11:53.000000000",
            "message": "Patch Set 2: Published edit on patch set 1",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "a390b45f7edfe3efb41b1436cf09d7f0adeb0a82",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2015-12-31 20:06:21.000000000",
            "message": "Patch Set 2: Verified+1\n\nBuild succeeded (check pipeline).\n\n- gate-glance-python34 http://logs.openstack.org/70/262770/2/check/gate-glance-python34/2495ed4/ : SUCCESS in 4m 13s\n- gate-glance-pep8 http://logs.openstack.org/70/262770/2/check/gate-glance-pep8/43fdebc/ : SUCCESS in 1m 57s\n- gate-glance-docs http://docs-draft.openstack.org/70/262770/2/check/gate-glance-docs/678efef//doc/build/html/ : SUCCESS in 2m 07s\n- gate-glance-python27 http://logs.openstack.org/70/262770/2/check/gate-glance-python27/f41ae4a/ : SUCCESS in 5m 33s\n- gate-tempest-dsvm-full http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-full/33d700a/ : SUCCESS in 42m 02s\n- gate-tempest-dsvm-postgres-full http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-postgres-full/04a4fa1/ : SUCCESS in 40m 57s\n- gate-tempest-dsvm-neutron-full http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-neutron-full/010aacb/ : SUCCESS in 54m 18s\n- gate-grenade-dsvm http://logs.openstack.org/70/262770/2/check/gate-grenade-dsvm/2181710/ : SUCCESS in 40m 13s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-large-ops/3b278e8/ : SUCCESS in 30m 00s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-neutron-large-ops/f009bd8/ : SUCCESS in 27m 13s\n- gate-tempest-dsvm-full-ceph http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-full-ceph/aa981d3/ : SUCCESS in 44m 13s\n- gate-tempest-dsvm-full-devstack-plugin-ceph-nv http://logs.openstack.org/70/262770/2/check/gate-tempest-dsvm-full-devstack-plugin-ceph-nv/f294dd3/ : SUCCESS in 44m 29s (non-voting)\n- gate-rally-dsvm-glance http://logs.openstack.org/70/262770/2/check/gate-rally-dsvm-glance/32777f1/ : SUCCESS in 35m 05s (non-voting)\n- gate-glance-python27-constraints http://logs.openstack.org/70/262770/2/check/gate-glance-python27-constraints/5419e69/ : SUCCESS in 8m 38s (non-voting)\n- gate-glance-python34-constraints http://logs.openstack.org/70/262770/2/check/gate-glance-python34-constraints/84e4d92/ : SUCCESS in 5m 43s (non-voting)\n- gate-glance-docs-constraints http://docs-draft.openstack.org/70/262770/2/check/gate-glance-docs-constraints/a4fb0d9//doc/build/html/ : SUCCESS in 2m 19s (non-voting)\n- gate-glance-pep8-constraints http://logs.openstack.org/70/262770/2/check/gate-glance-pep8-constraints/c3bbb75/ : SUCCESS in 1m 55s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "72482f13be1eace57f73d095fa330df762a78d37",
            "author": {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            "real_author": {
                "_account_id": 15054,
                "name": "wangxiyuan",
                "email": "wangxiyuan1007@gmail.com",
                "username": "wangxiyuan"
            },
            "date": "2016-01-05 02:35:51.000000000",
            "message": "Patch Set 2: Code-Review-1\n\nAs I know, Glance will use trust mechanism from keystone to keep token alive.\n\nhttps://review.openstack.org/#/c/241986/\n\nPlease see the patch. Thanks. If I missed something, please let me know.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "c2256d512b047e82c65012af1d07d04bdbc3a46c",
            "author": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "real_author": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "date": "2016-01-05 09:05:55.000000000",
            "message": "Patch Set 2:\n\n> As I know, Glance will use trust mechanism from keystone to keep\n > token alive.\n > \n > https://review.openstack.org/#/c/241986/\n > \n > Please see the patch. Thanks. If I missed something, please let me\n > know.\n\nThat's right as far as I know, I couldn't find the patch yesterday.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "f25a53783377e54534d2494bb580c7e7ec25c503",
            "author": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "real_author": {
                "_account_id": 17116,
                "name": "Niall Bunting",
                "email": "niall.bunting@hpe.com",
                "username": "NiallBunting"
            },
            "date": "2016-01-05 09:06:07.000000000",
            "message": "Patch Set 2: Code-Review-1",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "a77077ec122a12e72539e2f27bcfb65090b0b46b",
            "author": {
                "_account_id": 14676,
                "name": "Kairat Kushaev",
                "email": "kkushaev@mirantis.com",
                "username": "kairat_kushaev"
            },
            "real_author": {
                "_account_id": 14676,
                "name": "Kairat Kushaev",
                "email": "kkushaev@mirantis.com",
                "username": "kairat_kushaev"
            },
            "date": "2016-02-29 11:17:48.000000000",
            "message": "Patch Set 2: Code-Review-1\n\nNot sure we should do this for v1 because we are going to deprecate it officially soon. \nV2 already supports trusts. I am also wondering how can you prevent Unauthorized without trusts. Could you please clarify that?",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "d8407bd14255d528c86adc8227dfe8d963b0a7a9",
            "author": {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            "real_author": {
                "_account_id": 11391,
                "name": "Mikhail Fedosin",
                "email": "mfedosin@redhat.com",
                "username": "fedosinme"
            },
            "date": "2016-02-29 11:55:03.000000000",
            "message": "Patch Set 2: Code-Review-2\n\nI wonder if your solution works... As far as I see you just keep sending requests to registry during image upload. It doesn't affect token life time at all. If you really need a working solution, please use https://review.openstack.org/#/c/233601/",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "18b53d8648df3c2c372c60a73966283ab81a689d",
            "author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "real_author": {
                "_account_id": 15424,
                "name": "javeme",
                "email": "javaloveme@gmail.com",
                "username": "javeme"
            },
            "date": "2016-02-29 17:17:10.000000000",
            "message": "Abandoned",
            "accounts_in_message": [],
            "_revision_number": 2
        }
    ],
    "requirements": [],
    "submit_records": []
}