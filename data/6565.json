{
    "id": "openstack%2Fglance~stable%2Fdiablo~I62f2bcabd9712361dd8837e39a577c4add052d0f",
    "project": "openstack/glance",
    "branch": "stable/diablo",
    "topic": "bug/981332",
    "hashtags": [],
    "change_id": "I62f2bcabd9712361dd8837e39a577c4add052d0f",
    "subject": "Omit Content-Length on chunked transfer",
    "status": "MERGED",
    "created": "2012-04-14 03:08:29.000000000",
    "updated": "2012-05-08 02:58:14.000000000",
    "submitted": "2012-05-08 02:58:14.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 11,
    "deletions": 4,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "4d7276e6922a3dd6c5554f055298bc638b34628a",
    "_number": 6565,
    "owner": {
        "_account_id": 1395,
        "name": "Mike Lundy",
        "email": "mike@fluffypenguin.org",
        "username": "novas0x2a"
    },
    "labels": {
        "Verified": {
            "approved": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 1247,
                    "name": "Mark McLoughlin",
                    "email": "markmc@redhat.com",
                    "username": "markmc"
                },
                {
                    "value": 0,
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "_account_id": 1395,
                    "name": "Mike Lundy",
                    "email": "mike@fluffypenguin.org",
                    "username": "novas0x2a"
                },
                {
                    "value": 2,
                    "date": "2012-05-08 02:58:14.000000000",
                    "post_submit": true,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 2,
                    "date": "2012-05-07 17:50:46.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 2,
                    "date": "2012-04-25 11:53:51.000000000",
                    "_account_id": 1247,
                    "name": "Mark McLoughlin",
                    "email": "markmc@redhat.com",
                    "username": "markmc"
                },
                {
                    "value": 1,
                    "date": "2012-05-03 17:48:35.000000000",
                    "permitted_voting_range": {
                        "min": 1,
                        "max": 1
                    },
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "date": "2012-05-07 10:49:47.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 1395,
                    "name": "Mike Lundy",
                    "email": "mike@fluffypenguin.org",
                    "username": "novas0x2a"
                },
                {
                    "value": 0,
                    "date": "2012-05-07 18:08:13.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 1,
                    "date": "2012-05-07 17:50:46.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "date": "2012-04-25 11:53:51.000000000",
                    "_account_id": 1247,
                    "name": "Mark McLoughlin",
                    "email": "markmc@redhat.com",
                    "username": "markmc"
                },
                {
                    "value": 0,
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "date": "2012-04-24 19:51:20.000000000",
                    "_account_id": 1395,
                    "name": "Mike Lundy",
                    "email": "mike@fluffypenguin.org",
                    "username": "novas0x2a"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 1247,
                    "name": "Mark McLoughlin",
                    "email": "markmc@redhat.com",
                    "username": "markmc"
                },
                {
                    "value": 0,
                    "_account_id": 209,
                    "name": "Josh Kearney",
                    "email": "josh@jk0.org",
                    "username": "jk0"
                },
                {
                    "value": 0,
                    "_account_id": 1395,
                    "name": "Mike Lundy",
                    "email": "mike@fluffypenguin.org",
                    "username": "novas0x2a"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            {
                "_account_id": 1395,
                "name": "Mike Lundy",
                "email": "mike@fluffypenguin.org",
                "username": "novas0x2a"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2012-04-25 11:53:51.000000000",
            "updated_by": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "reviewer": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-05-03 17:48:35.000000000",
            "updated_by": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "reviewer": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-05-07 17:50:46.000000000",
            "updated_by": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "reviewer": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-05-08 02:58:14.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "7caa4830c3298799441946e84229ceba9eb534bc",
            "author": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "real_author": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "date": "2012-04-24 07:03:18.000000000",
            "message": "Patch Set 1:\n\nLots of debate in the bug. Will punt on reviewing this for stable until it's in master.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "bfefe05c865aee16cbb7c249e5598bd203fd8a55",
            "author": {
                "_account_id": 1395,
                "name": "Mike Lundy",
                "email": "mike@fluffypenguin.org",
                "username": "novas0x2a"
            },
            "real_author": {
                "_account_id": 1395,
                "name": "Mike Lundy",
                "email": "mike@fluffypenguin.org",
                "username": "novas0x2a"
            },
            "date": "2012-04-24 19:51:20.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "2ca1e8fe1a902b55bfba41101a25354ab5cfdd36",
            "author": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "real_author": {
                "_account_id": 1247,
                "name": "Mark McLoughlin",
                "email": "markmc@redhat.com",
                "username": "markmc"
            },
            "date": "2012-04-25 11:53:51.000000000",
            "message": "Patch Set 2: Looks good to me (core reviewer)\n\nFixes what looks like a pretty serious issue (image corruption when glance is behind a reverse proxy)\n\nAnd it looks to be particularly important in the case of diablo because it's only broken on essex/folsom where sendfile support isn't supported\n\nAlready on master, looks risky but I think that's outweighed by the benefit",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "4004ec99bad21ba350687f9499e5157a33923c44",
            "author": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "real_author": {
                "_account_id": 209,
                "name": "Josh Kearney",
                "email": "josh@jk0.org",
                "username": "jk0"
            },
            "date": "2012-05-03 17:48:35.000000000",
            "message": "Patch Set 2: Looks good to me, but someone else must approve\n\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "4b30b39f7716ad64d66a9f5981a8ab09d876848b",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-05-04 20:58:30.000000000",
            "message": "Patch Set 2: I would prefer that you didn't merge this\n\nCan someone verify that this fixes the issue in diablo? I'm also not convinced we need to backport this, as it isn't security-related.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "08cf18695d56f01ffb079e43d16978e928f6b944",
            "author": {
                "_account_id": 1395,
                "name": "Mike Lundy",
                "email": "mike@fluffypenguin.org",
                "username": "novas0x2a"
            },
            "real_author": {
                "_account_id": 1395,
                "name": "Mike Lundy",
                "email": "mike@fluffypenguin.org",
                "username": "novas0x2a"
            },
            "date": "2012-05-07 10:49:47.000000000",
            "message": "Patch Set 2:\n\nIt definitely fixes the problem. We currently have this patch in our tree. It's not a security fix, granted, but the fact that it silently corrupts data when you do something perfectly reasonable (put glance behind a load-balancer) makes me consider it a strong backport candidate. :)",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "5026f65fa406cb83bca9c6a694b46664064a247e",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-05-07 17:50:46.000000000",
            "message": "Patch Set 2: Looks good to me (core reviewer); Approved\n\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "de589741de67a2fbac1162588f7bc956b2e94084",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-07 18:08:13.000000000",
            "message": "Patch Set 2: Fails\n\nBuild Failed \n \nhttps://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/3889/ : FAILURE \nhttps://jenkins.openstack.org/job/gate-glance-merge/619/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-tempest-devstack-vm/450/ : FAILURE \nhttps://jenkins.openstack.org/job/gate-tempest-devstack-vm/450/ : FAILURE \nhttps://jenkins.openstack.org/job/gate-glance-pep8/800/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python26/316/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python27/316/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "a1828165b9348f08fe86c08b5a949e8770e3fa53",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-05-07 21:35:30.000000000",
            "message": "Patch Set 2:\n\nTrying again.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "5cab5d2cd40e6a05040c12679a03231ca9e1b749",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-07 23:18:05.000000000",
            "message": "Patch Set 2:\n\nBuild Failed \n \nhttps://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/3922/ : FAILURE \nhttps://jenkins.openstack.org/job/gate-glance-merge/634/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-pep8/815/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python26/331/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python27/331/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "aeb7e00487f7b314f56fbaf4e9b59c7c1ba43c86",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-08 02:58:14.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "f0de1daeadd8a465158e4b6469bc57a075cfd3bd",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-08 02:58:14.000000000",
            "message": "Patch Set 2: Verified\n\nBuild Successful \n \nhttps://jenkins.openstack.org/job/gate-glance-merge/634/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-pep8/815/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python26/331/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python27/331/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/3940/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 2
        }
    ],
    "requirements": [],
    "submit_records": []
}