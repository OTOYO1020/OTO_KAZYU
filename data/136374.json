{
    "id": "openstack%2Fglance~master~I342e4f2d7af3ba3b8089b3069fd55d727d373551",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bp/community-level-v2-image-sharing",
    "hashtags": [],
    "change_id": "I342e4f2d7af3ba3b8089b3069fd55d727d373551",
    "subject": "(hyper-wip) Explicitly store visibility of image",
    "status": "ABANDONED",
    "created": "2014-11-21 14:55:22.000000000",
    "updated": "2015-06-24 22:53:52.000000000",
    "insertions": 63,
    "deletions": 0,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "a00015b8c11bfbf76f7100d8990b6272fd9b5bb1",
    "_number": 136374,
    "owner": {
        "_account_id": 11356,
        "name": "Louis Taylor",
        "email": "louis@kragniz.eu",
        "username": "kragniz"
    },
    "labels": {
        "Verified": {
            "disliked": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "_account_id": 11356,
                    "name": "Louis Taylor",
                    "email": "louis@kragniz.eu",
                    "username": "kragniz"
                },
                {
                    "date": "2015-03-23 18:21:52.000000000",
                    "_account_id": 15732,
                    "name": "Su Zhang",
                    "email": "westlifezs@gmail.com",
                    "username": "westlifezs"
                },
                {
                    "value": -1,
                    "date": "2014-12-02 19:01:39.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 11356,
                    "name": "Louis Taylor",
                    "email": "louis@kragniz.eu",
                    "username": "kragniz"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 15732,
                    "name": "Su Zhang",
                    "email": "westlifezs@gmail.com",
                    "username": "westlifezs"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 11356,
                    "name": "Louis Taylor",
                    "email": "louis@kragniz.eu",
                    "username": "kragniz"
                },
                {
                    "_account_id": 15732,
                    "name": "Su Zhang",
                    "email": "westlifezs@gmail.com",
                    "username": "westlifezs"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 11356,
                    "name": "Louis Taylor",
                    "email": "louis@kragniz.eu",
                    "username": "kragniz"
                },
                {
                    "_account_id": 15732,
                    "name": "Su Zhang",
                    "email": "westlifezs@gmail.com",
                    "username": "westlifezs"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2014-12-02 19:01:39.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2015-03-23 18:21:52.000000000",
            "updated_by": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "reviewer": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "7f9ebdb27a9bbf87ce132e0b5b04bfa6397e4202",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-11-21 14:55:22.000000000",
            "message": "Uploaded patch set 1.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "4c241b51a1696117a7c456b26690eaae33a26731",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-11-21 15:02:07.000000000",
            "message": "Patch Set 1: Workflow-1",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "bd841f14bee5af5df0f43683e9620aeab001864d",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-11-21 15:51:57.000000000",
            "message": "Patch Set 1: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures\n\n- gate-glance-pep8 http://logs.openstack.org/74/136374/1/check/gate-glance-pep8/08593fb : FAILURE in 1m 51s\n- gate-glance-docs http://docs-draft.openstack.org/74/136374/1/check/gate-glance-docs/c8ac8b0/doc/build/html/ : SUCCESS in 1m 38s\n- gate-glance-python27 http://logs.openstack.org/74/136374/1/check/gate-glance-python27/9a1bd66 : FAILURE in 4m 00s\n- check-tempest-dsvm-full http://logs.openstack.org/74/136374/1/check/check-tempest-dsvm-full/da16f81 : FAILURE in 28m 38s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/74/136374/1/check/check-tempest-dsvm-postgres-full/84acfee : FAILURE in 27m 39s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/74/136374/1/check/check-tempest-dsvm-neutron-full/cbdd4ca : FAILURE in 35m 54s\n- check-tempest-dsvm-neutron-heat-slow http://logs.openstack.org/74/136374/1/check/check-tempest-dsvm-neutron-heat-slow/93eeeb2 : FAILURE in 13m 34s\n- check-grenade-dsvm http://logs.openstack.org/74/136374/1/check/check-grenade-dsvm/7972d25 : SUCCESS in 44m 15s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/74/136374/1/check/gate-tempest-dsvm-large-ops/c0a1123 : SUCCESS in 22m 57s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/74/136374/1/check/gate-tempest-dsvm-neutron-large-ops/0e0b59a : SUCCESS in 20m 18s\n- check-devstack-dsvm-cells http://logs.openstack.org/74/136374/1/check/check-devstack-dsvm-cells/7f0b632 : FAILURE in 11m 47s\n- gate-rally-dsvm-glance http://logs.openstack.org/74/136374/1/check/gate-rally-dsvm-glance/383ad86 : SUCCESS in 19m 36s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "6171406ad4064e8b29c8fccabc80a50c4f7cbbd8",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-11-21 19:35:36.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "da5bdb9593f27901990e55514c7f73a1aa7508dc",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-11-21 20:29:46.000000000",
            "message": "Patch Set 2: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures\n\n- gate-glance-pep8 http://logs.openstack.org/74/136374/2/check/gate-glance-pep8/436956a : FAILURE in 1m 57s\n- gate-glance-docs http://docs-draft.openstack.org/74/136374/2/check/gate-glance-docs/4e00bd5/doc/build/html/ : SUCCESS in 2m 04s\n- gate-glance-python27 http://logs.openstack.org/74/136374/2/check/gate-glance-python27/d90e3c3 : FAILURE in 5m 30s\n- check-tempest-dsvm-full http://logs.openstack.org/74/136374/2/check/check-tempest-dsvm-full/a4ae1ab : FAILURE in 25m 27s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/74/136374/2/check/check-tempest-dsvm-postgres-full/aeef24e : FAILURE in 30m 55s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/74/136374/2/check/check-tempest-dsvm-neutron-full/8111f0a : FAILURE in 28m 09s\n- check-tempest-dsvm-neutron-heat-slow http://logs.openstack.org/74/136374/2/check/check-tempest-dsvm-neutron-heat-slow/adf8800 : FAILURE in 16m 31s\n- check-grenade-dsvm http://logs.openstack.org/74/136374/2/check/check-grenade-dsvm/08e310b : SUCCESS in 47m 14s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/74/136374/2/check/gate-tempest-dsvm-large-ops/49405bd : SUCCESS in 24m 12s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/74/136374/2/check/gate-tempest-dsvm-neutron-large-ops/56db1c0 : SUCCESS in 22m 12s\n- check-devstack-dsvm-cells http://logs.openstack.org/74/136374/2/check/check-devstack-dsvm-cells/7974ebb : FAILURE in 14m 25s\n- gate-rally-dsvm-glance http://logs.openstack.org/74/136374/2/check/gate-rally-dsvm-glance/7ec6e92 : SUCCESS in 19m 44s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "8e771ea74a30ae3643fddd467b28911e6ec7ccf0",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-11-25 19:55:58.000000000",
            "message": "Uploaded patch set 3.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "5b351f99657b79a6dfa58e09d65e04d4456bc236",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-11-25 21:12:30.000000000",
            "message": "Patch Set 3: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures\n\n- gate-glance-pep8 http://logs.openstack.org/74/136374/3/check/gate-glance-pep8/9d467cd : FAILURE in 2m 07s\n- gate-glance-docs http://docs-draft.openstack.org/74/136374/3/check/gate-glance-docs/369750b/doc/build/html/ : SUCCESS in 1m 36s\n- gate-glance-python27 http://logs.openstack.org/74/136374/3/check/gate-glance-python27/eb53f8b : SUCCESS in 5m 28s\n- check-tempest-dsvm-full http://logs.openstack.org/74/136374/3/check/check-tempest-dsvm-full/885e68d : SUCCESS in 56m 07s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/74/136374/3/check/check-tempest-dsvm-postgres-full/91f79f1 : SUCCESS in 53m 15s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/74/136374/3/check/check-tempest-dsvm-neutron-full/daa4d40 : SUCCESS in 1h 00m 01s\n- check-tempest-dsvm-neutron-heat-slow http://logs.openstack.org/74/136374/3/check/check-tempest-dsvm-neutron-heat-slow/0aa6ea5 : SUCCESS in 26m 57s\n- check-grenade-dsvm http://logs.openstack.org/74/136374/3/check/check-grenade-dsvm/f0af045 : SUCCESS in 58m 46s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/74/136374/3/check/gate-tempest-dsvm-large-ops/44a30ba : SUCCESS in 21m 49s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/74/136374/3/check/gate-tempest-dsvm-neutron-large-ops/fd23c21 : SUCCESS in 22m 34s\n- check-devstack-dsvm-cells http://logs.openstack.org/74/136374/3/check/check-devstack-dsvm-cells/603361f : SUCCESS in 20m 24s\n- gate-rally-dsvm-glance http://logs.openstack.org/74/136374/3/check/gate-rally-dsvm-glance/f833d57 : SUCCESS in 23m 49s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "759f97d77a43d84aafe2ea836dbbdb77aa00188c",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-11-25 22:17:55.000000000",
            "message": "Uploaded patch set 4.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "f268758452fec620855fc119135b0d614dc6a1f9",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-11-25 23:26:26.000000000",
            "message": "Patch Set 4: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures\n\n- gate-glance-pep8 http://logs.openstack.org/74/136374/4/check/gate-glance-pep8/f802e6d : SUCCESS in 2m 36s\n- gate-glance-docs http://docs-draft.openstack.org/74/136374/4/check/gate-glance-docs/d274d0d/doc/build/html/ : SUCCESS in 1m 53s\n- gate-glance-python27 http://logs.openstack.org/74/136374/4/check/gate-glance-python27/cd827d8 : FAILURE in 4m 58s\n- check-tempest-dsvm-full http://logs.openstack.org/74/136374/4/check/check-tempest-dsvm-full/71a3329 : SUCCESS in 54m 35s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/74/136374/4/check/check-tempest-dsvm-postgres-full/e0086d9 : SUCCESS in 58m 16s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/74/136374/4/check/check-tempest-dsvm-neutron-full/7ca1f8d : SUCCESS in 1h 04m 21s\n- check-tempest-dsvm-neutron-heat-slow http://logs.openstack.org/74/136374/4/check/check-tempest-dsvm-neutron-heat-slow/2697724 : SUCCESS in 20m 19s\n- check-grenade-dsvm http://logs.openstack.org/74/136374/4/check/check-grenade-dsvm/605e76e : SUCCESS in 40m 48s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/74/136374/4/check/gate-tempest-dsvm-large-ops/1e030e6 : SUCCESS in 20m 17s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/74/136374/4/check/gate-tempest-dsvm-neutron-large-ops/09976f0 : SUCCESS in 21m 34s\n- check-devstack-dsvm-cells http://logs.openstack.org/74/136374/4/check/check-devstack-dsvm-cells/221f52a : SUCCESS in 19m 36s\n- gate-rally-dsvm-glance http://logs.openstack.org/74/136374/4/check/gate-rally-dsvm-glance/c82b4d1 : SUCCESS in 25m 22s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "5798ae0f51e643593d87f390aadd15cee55760dc",
            "author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "real_author": {
                "_account_id": 11356,
                "name": "Louis Taylor",
                "email": "louis@kragniz.eu",
                "username": "kragniz"
            },
            "date": "2014-12-02 18:25:58.000000000",
            "message": "Uploaded patch set 5.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "3d7b0e63e2e885fa26e58e8462de33d6307bf47b",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2014-12-02 19:01:39.000000000",
            "message": "Patch Set 5: Verified-1\n\nBuild failed (check pipeline).  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures\n\n- gate-glance-pep8 http://logs.openstack.org/74/136374/5/check/gate-glance-pep8/2ac10e0 : FAILURE in 2m 07s\n- gate-glance-docs http://docs-draft.openstack.org/74/136374/5/check/gate-glance-docs/58d4523/doc/build/html/ : SUCCESS in 2m 23s\n- gate-glance-python27 http://logs.openstack.org/74/136374/5/check/gate-glance-python27/b2cb125 : FAILURE in 4m 43s\n- check-tempest-dsvm-full http://logs.openstack.org/74/136374/5/check/check-tempest-dsvm-full/8e5e17e : SUCCESS in 35m 37s\n- check-tempest-dsvm-postgres-full http://logs.openstack.org/74/136374/5/check/check-tempest-dsvm-postgres-full/daf2f42 : SUCCESS in 29m 38s\n- check-tempest-dsvm-neutron-full http://logs.openstack.org/74/136374/5/check/check-tempest-dsvm-neutron-full/befa2d1 : SUCCESS in 33m 45s\n- check-grenade-dsvm http://logs.openstack.org/74/136374/5/check/check-grenade-dsvm/6081bd9 : FAILURE in 22m 49s\n- gate-tempest-dsvm-large-ops http://logs.openstack.org/74/136374/5/check/gate-tempest-dsvm-large-ops/18aadd4 : SUCCESS in 23m 06s\n- gate-tempest-dsvm-neutron-large-ops http://logs.openstack.org/74/136374/5/check/gate-tempest-dsvm-neutron-large-ops/7bfeaef : SUCCESS in 21m 34s\n- check-devstack-dsvm-cells http://logs.openstack.org/74/136374/5/check/check-devstack-dsvm-cells/873aaa8 : SUCCESS in 14m 32s\n- gate-rally-dsvm-glance http://logs.openstack.org/74/136374/5/check/gate-rally-dsvm-glance/67071b0 : SUCCESS in 23m 43s (non-voting)",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "00ded8c2cd10646e96702bb226b4f2ff60bbe945",
            "author": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "real_author": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "date": "2015-03-23 18:21:52.000000000",
            "message": "Patch Set 5:\n\nHello,\n\nI just launched a latest devstack, cherry-picked your code and restarted g-api service. However, when I tried to update an image with a \"community\" visibility. I encountered an error saying visibility is an unrecognized argument. Could you please give me some hints regarding this error? Here is my running script:\n\nsu@ubuntu:/opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions$ glance image-update --visibility private 4adda55e-fa6e-4605-aa42-aa5faabc04b8\nusage: glance [--version] [-d] [-v] [--get-schema] [--timeout TIMEOUT]\n              [--no-ssl-compression] [-f] [--os-image-url OS_IMAGE_URL]\n              [--os-image-api-version OS_IMAGE_API_VERSION]\n              [--profile HMAC_KEY] [-k] [--os-cert OS_CERT]\n              [--cert-file OS_CERT] [--os-key OS_KEY] [--key-file OS_KEY]\n              [--os-cacert <ca-certificate-file>] [--ca-file OS_CACERT]\n              [--os-username OS_USERNAME] [--os-user-id OS_USER_ID]\n              [--os-user-domain-id OS_USER_DOMAIN_ID]\n              [--os-user-domain-name OS_USER_DOMAIN_NAME]\n              [--os-project-id OS_PROJECT_ID]\n              [--os-project-name OS_PROJECT_NAME]\n              [--os-project-domain-id OS_PROJECT_DOMAIN_ID]\n              [--os-project-domain-name OS_PROJECT_DOMAIN_NAME]\n              [--os-password OS_PASSWORD] [--os-tenant-id OS_TENANT_ID]\n              [--os-tenant-name OS_TENANT_NAME] [--os-auth-url OS_AUTH_URL]\n              [--os-region-name OS_REGION_NAME]\n              [--os-auth-token OS_AUTH_TOKEN]\n              [--os-service-type OS_SERVICE_TYPE]\n              [--os-endpoint-type OS_ENDPOINT_TYPE]\n              <subcommand> ...\nglance: error: unrecognized arguments: --visibility 4adda55e-fa6e-4605-aa42-aa5faabc04b8",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "40bf26006ebc692f66120b993ba73b82a418b459",
            "author": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "real_author": {
                "_account_id": 15732,
                "name": "Su Zhang",
                "email": "westlifezs@gmail.com",
                "username": "westlifezs"
            },
            "date": "2015-03-26 05:17:43.000000000",
            "message": "Patch Set 5:\n\nI figured out that \"visibility\" is only supported under glance api v2. However, after I cherry picked this code and made the change to glance, I encountered a 500 error whenever I typed a glance cmd.\nCould anyone possibly let me know how to get this error around?\nHere is my log:\n\n2015-03-25 22:04:54.088 WARNING oslo_config.cfg [req-d197339f-dd73-4ad4-88b4-3194d0e23570 8e50cb1c63294e528502abcbdeed8b50 87ab685d55af4882b9af51e3d28\n\n6ab0b] Option \"sql_connection\" from group \"DEFAULT\" is deprecated. Use option \"connection\" from group \"database\".\n\n2015-03-25 22:04:54.104 DEBUG oslo_db.sqlalchemy.session [req-d197339f-dd73-4ad4-88b4-3194d0e23570 8e50cb1c63294e528502abcbdeed8b50 87ab685d55af4882b9\n\naf51e3d286ab0b] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_\n\nAUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION from (pid=63674) _check_effective_sql_mode /usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.p\n\ny:513\n\n2015-03-25 22:04:54.156 INFO eventlet.wsgi.server [req-d197339f-dd73-4ad4-88b4-3194d0e23570 8e50cb1c63294e528502abcbdeed8b50 87ab685d55af4882b9af51e3d\n\n286ab0b] Traceback (most recent call last):\n\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/wsgi.py\", line 427, in handle_one_response\n\n    result = self.application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n  File \"/opt/stack/glance/glance/common/wsgi.py\", line 486, in __call__\n\n    response = req.get_response(self.application)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n\n    application, catch_exc_info=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n\n    app_iter = application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/osprofiler/web.py\", line 99, in __call__\n\n    return request.get_response(self.application)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n\n    application, catch_exc_info=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n\n    app_iter = application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 634, in __call__\n\n    return self._call_app(env, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 554, in _call_app\n\n    return self._app(env, _fake_start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n File \"/opt/stack/glance/glance/common/wsgi.py\", line 486, in __call__\n\n    response = req.get_response(self.application)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n\n    application, catch_exc_info=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n\n    app_iter = application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n  File \"/opt/stack/glance/glance/common/wsgi.py\", line 486, in __call__\n\n    response = req.get_response(self.application)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n\n    application, catch_exc_info=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n\n    app_iter = application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n  File \"/opt/stack/glance/glance/common/wsgi.py\", line 486, in __call__\n\n    response = req.get_response(self.application)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n\n    application, catch_exc_info=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n\n    app_iter = application(self.environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/paste/urlmap.py\", line 203, in __call__\n\n    return app(environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\n    return resp(environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n\n    response = self.app(environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\n    return resp(environ, start_response)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\n    resp = self.call_func(req, *args, **self.kwargs)\n\n  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\n    return self.func(req, *args, **kwargs)\n\n  File \"/opt/stack/glance/glance/common/wsgi.py\", line 777, in __call__\n\n    request, **action_args)\n\n  File \"/opt/stack/glance/glance/common/wsgi.py\", line 801, in dispatch\n\n    return method(*args, **kwargs)\n\n  File \"/opt/stack/glance/glance/api/v2/images.py\", line 126, in show\n\n    return image_repo.get(image_id)\n\nFile \"/opt/stack/glance/glance/api/authorization.py\", line 109, in get\n\n    image = self.image_repo.get(image_id)\n\n  File \"/opt/stack/glance/glance/domain/proxy.py\", line 86, in get\n\n    return self.helper.proxy(self.base.get(item_id))\n\n  File \"/opt/stack/glance/glance/api/policy.py\", line 115, in get\n\n    image = super(ImageRepoProxy, self).get(image_id)\n\n  File \"/opt/stack/glance/glance/domain/proxy.py\", line 86, in get\n\n    return self.helper.proxy(self.base.get(item_id))\n\n  File \"/opt/stack/glance/glance/domain/proxy.py\", line 86, in get\n\n    return self.helper.proxy(self.base.get(item_id))\n\n  File \"/opt/stack/glance/glance/domain/proxy.py\", line 86, in get\n\n    return self.helper.proxy(self.base.get(item_id))\n\n  File \"/opt/stack/glance/glance/db/__init__.py\", line 69, in get\n\n    db_api_image = dict(self.db_api.image_get(self.context, image_id))\n\n  File \"/opt/stack/glance/glance/db/sqlalchemy/api.py\", line 203, in image_get\n\n    force_show_deleted=force_show_deleted)\n\n  File \"/opt/stack/glance/glance/db/sqlalchemy/api.py\", line 238, in _image_get\n\n    image = query.one()\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2398, in one\n\n    ret = list(self)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2441, in __iter__\n\n    return self._execute_and_instances(context)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2456, in _execute_and_instances\n\n    result = conn.execute(querycontext.statement, self._params)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 841, in execute\n\n    return meth(self, multiparams, params)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 322, in _execute_on_connection\n\n    return connection._execute_clauseelement(self, multiparams, params)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 938, in _execute_clauseelement\n\n    compiled_sql, distilled_params\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1070, in _execute_context\n\n    context)\n\n  File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/compat/handle_error.py\", line 261, in _handle_dbapi_exception\n\n    e, statement, parameters, cursor, context)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1267, in _handle_dbapi_exception\n\n    util.raise_from_cause(newraise, exc_info)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n\n    reraise(type(exception), exception, tb=exc_tb)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1063, in _execute_context\n\n    context)\n\n  File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 442, in do_execute\n\n    cursor.execute(statement, parameters)\n\n  File \"/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py\", line 174, in execute\n\n    self.errorhandler(self, exc, value)\n\n  File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n\n raise errorclass, errorvalue\n\nOperationalError: (OperationalError) (1054, \"Unknown column 'images.visibility' in 'field list'\") 'SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.virtual_size AS images_virtual_size, images.status AS images_status, images.visibility AS images_visibility, images.is_public AS images_is_public, images.checksum AS images_checksum, images.min_disk AS images_min_disk, images.min_ram AS images_min_ram, images.owner AS images_owner, images.protected AS images_protected, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.name AS image_properties_1_name, image_properties_1.value AS image_properties_1_value, image_locations_1.created_at AS image_locations_1_created_at, image_locations_1.updated_at AS image_locations_1_updated_at, image_locations_1.deleted_at AS image_locations_1_deleted_at, image_locations_1.deleted AS image_locations_1_deleted, image_locations_1.id AS image_locations_1_id, image_locations_1.image_id AS image_locations_1_image_id, image_locations_1.value AS image_locations_1_value, image_locations_1.meta_data AS image_locations_1_meta_data, image_locations_1.status AS image_locations_1_status \\nFROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id LEFT OUTER JOIN image_locations AS image_locations_1 ON images.id = image_locations_1.image_id \\nWHERE images.id = %s' ('4adda55e-fa6e-4605-aa42-aa5faabc04b8',)\n\n2015-03-25 22:04:54.163 INFO eventlet.wsgi.server [req-d197339f-dd73-4ad4-88b4-3194d0e23570 8e50cb1c63294e528502abcbdeed8b50 87ab685d55af4882b9af51e3d286ab0b] 172.16.152.171 - - [25/Mar/2015 22:04:54] \"GET /v2/images/4adda55e-fa6e-4605-aa42-aa5faabc04b8 HTTP/1.1\" 500 139 0.078274\n\n\n\n\n\nAny response will be highly appreciated,",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "82895e7cdb07ca27881cb09fb04c93b2b09d2db5",
            "author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "real_author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "date": "2015-06-24 22:53:52.000000000",
            "message": "Abandoned\n\nHey Louis, I'm abandoning this patch since it hasn't been updated since march and it's been around since 2014-something. Feel free to restore it (rebased ;) if you still want to work on it.",
            "accounts_in_message": [],
            "_revision_number": 5
        }
    ],
    "requirements": [],
    "submit_records": []
}