{
    "id": "openstack%2Fglance~master~Idd34336f59acbeaeb6f91c7f147a72c8e538d77e",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bp/support-for-multipart-form-data-contenttype",
    "hashtags": [],
    "change_id": "Idd34336f59acbeaeb6f91c7f147a72c8e538d77e",
    "subject": "blueprint support-for-multipart-form-data-contenttype",
    "status": "ABANDONED",
    "created": "2013-06-11 22:49:25.000000000",
    "updated": "2013-07-02 06:03:05.000000000",
    "insertions": 253,
    "deletions": 24,
    "total_comment_count": 2,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "aea9aca4ba53aecb0b8023bedaf991c49eb00f24",
    "_number": 32651,
    "owner": {
        "_account_id": 7767,
        "name": "Jeremiah Patterson",
        "email": "jeremiah.patterson@hp.com",
        "username": "jerpat"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 7767,
                    "name": "Jeremiah Patterson",
                    "email": "jeremiah.patterson@hp.com",
                    "username": "jerpat"
                },
                {
                    "_account_id": 5313,
                    "name": "David Peraza",
                    "email": "david_peraza@persistentsys.com",
                    "username": "dperaza"
                },
                {
                    "value": 1,
                    "date": "2013-06-12 06:32:44.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                },
                {
                    "_account_id": 6499,
                    "name": "yehia-beyh",
                    "email": "yehia.beyh@hpe.com",
                    "username": "yehia-beyh"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "rejected": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "recommended": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "disliked": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "all": [
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "value": -2,
                    "date": "2013-06-12 22:19:18.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "value": 0,
                    "date": "2013-06-14 22:31:17.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "date": "2013-06-14 21:09:34.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 7767,
                    "name": "Jeremiah Patterson",
                    "email": "jeremiah.patterson@hp.com",
                    "username": "jerpat"
                },
                {
                    "value": -1,
                    "date": "2013-06-12 21:07:48.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 5313,
                    "name": "David Peraza",
                    "email": "david_peraza@persistentsys.com",
                    "username": "dperaza"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                },
                {
                    "value": 1,
                    "date": "2013-06-12 12:50:20.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 6499,
                    "name": "yehia-beyh",
                    "email": "yehia.beyh@hpe.com",
                    "username": "yehia-beyh"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "date": "2013-06-12 06:17:29.000000000",
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "date": "2013-06-12 08:37:26.000000000",
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "date": "2013-06-12 06:14:29.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 7767,
                    "name": "Jeremiah Patterson",
                    "email": "jeremiah.patterson@hp.com",
                    "username": "jerpat"
                },
                {
                    "_account_id": 5313,
                    "name": "David Peraza",
                    "email": "david_peraza@persistentsys.com",
                    "username": "dperaza"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                },
                {
                    "date": "2013-06-12 06:11:15.000000000",
                    "_account_id": 6499,
                    "name": "yehia-beyh",
                    "email": "yehia.beyh@hpe.com",
                    "username": "yehia-beyh"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 6493,
                    "name": "John Bresnahan",
                    "email": "john@bresnahan.me",
                    "username": "jbresnah"
                },
                {
                    "_account_id": 6159,
                    "name": "Flavio Percoco",
                    "display_name": "flaper87",
                    "email": "fpercoco@redhat.com",
                    "username": "flaper87"
                },
                {
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 7767,
                    "name": "Jeremiah Patterson",
                    "email": "jeremiah.patterson@hp.com",
                    "username": "jerpat"
                },
                {
                    "_account_id": 5313,
                    "name": "David Peraza",
                    "email": "david_peraza@persistentsys.com",
                    "username": "dperaza"
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                },
                {
                    "_account_id": 6499,
                    "name": "yehia-beyh",
                    "email": "yehia.beyh@hpe.com",
                    "username": "yehia-beyh"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2013-06-11 23:10:32.000000000",
            "updated_by": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "reviewer": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 06:11:15.000000000",
            "updated_by": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "reviewer": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 06:14:29.000000000",
            "updated_by": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "reviewer": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 06:17:29.000000000",
            "updated_by": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "reviewer": {
                "_account_id": 6493,
                "name": "John Bresnahan",
                "email": "john@bresnahan.me",
                "username": "jbresnah"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 06:32:44.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 08:37:26.000000000",
            "updated_by": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "reviewer": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-06-12 21:07:48.000000000",
            "updated_by": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "reviewer": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "cccca7c71cf4405c6c484d41ec549b8948afb85c",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2013-06-11 23:10:32.000000000",
            "message": "Patch Set 1: Works for me\n\nSmokeStack Results (patch set 1):\n\tLibvirt (Fedora 18) Success: http://smokestack.openstack.org/?go=/jobs/90660\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "64f5573d7d626f91afa27da695d5616f38cd12ca",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-06-11 23:29:32.000000000",
            "message": "Patch Set 1: Doesn't seem to work\n\nBuild failed.  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGithub#Test_Failures\n\n- http://logs.openstack.org/32651/1/check/gate-glance-pep8/4930 : FAILURE in 1m 44s\n- http://docs-draft.openstack.org/32651/1/check/gate-glance-docs/2958/doc/build/html/ : SUCCESS in 1m 56s\n- http://logs.openstack.org/32651/1/check/gate-glance-python26/4375 : FAILURE in 10m 33s\n- http://logs.openstack.org/32651/1/check/gate-glance-python27/4406 : FAILURE in 7m 06s\n- http://logs.openstack.org/32651/1/check/gate-tempest-devstack-vm-full/22402 : SUCCESS in 38m 50s\n- http://logs.openstack.org/32651/1/check/gate-tempest-devstack-vm-postgres-full/22109 : SUCCESS in 39m 53s\n- http://logs.openstack.org/32651/1/check/gate-tempest-devstack-vm-quantum/29662 : SUCCESS in 17m 08s\n- http://logs.openstack.org/32651/1/check/gate-grenade-devstack-vm/9554 : FAILURE in 17m 09s (non-voting)\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "4591771384ab9e7333c2c5a3a997af5d829db9a9",
            "author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "real_author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "date": "2013-06-12 05:30:38.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "7e6b8abcae0425d3f267a1de16c4d3a8f2fa0cea",
            "author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "real_author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "date": "2013-06-12 05:52:52.000000000",
            "message": "Uploaded patch set 3.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "ed7a861e23057b607b4cdb648d2d32d4ccfaf146",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-06-12 06:32:44.000000000",
            "message": "Patch Set 3: Works for me\n\nBuild succeeded.\n\n- http://logs.openstack.org/32651/3/check/gate-glance-pep8/4933 : SUCCESS in 1m 38s\n- http://docs-draft.openstack.org/32651/3/check/gate-glance-docs/2961/doc/build/html/ : SUCCESS in 1m 39s\n- http://logs.openstack.org/32651/3/check/gate-glance-python26/4378 : SUCCESS in 11m 49s\n- http://logs.openstack.org/32651/3/check/gate-glance-python27/4409 : SUCCESS in 7m 04s\n- http://logs.openstack.org/32651/3/check/gate-tempest-devstack-vm-full/22463 : SUCCESS in 39m 39s\n- http://logs.openstack.org/32651/3/check/gate-tempest-devstack-vm-postgres-full/22170 : SUCCESS in 39m 35s\n- http://logs.openstack.org/32651/3/check/gate-tempest-devstack-vm-quantum/29728 : SUCCESS in 23m 19s\n- http://logs.openstack.org/32651/3/check/gate-grenade-devstack-vm/9610 : FAILURE in 18m 05s (non-voting)\n",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "39b21322195e04873e32f8356bff5c3e66dda4f1",
            "author": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "real_author": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "date": "2013-06-12 12:50:20.000000000",
            "message": "Patch Set 3: Looks good to me, but someone else must approve\n\n",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "cc8cb61ea0b4eff332118503fcbee6cf646807ac",
            "author": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "real_author": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "date": "2013-06-12 21:07:48.000000000",
            "message": "Patch Set 3: I would prefer that you didn't merge this\n\n(1 inline comment)\n\nThe whole idea of using headers have been abandoned in v2 to give way to json in request of apis, should this be the direction instead of trying to fix the v1 with header limitation? Sound like dual maintenance for no reason.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "695e09bc28c9395c2309f78dfa1a9af594158de5",
            "author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "real_author": {
                "_account_id": 6159,
                "name": "Flavio Percoco",
                "display_name": "flaper87",
                "email": "fpercoco@redhat.com",
                "username": "flaper87"
            },
            "date": "2013-06-12 22:19:18.000000000",
            "message": "Patch Set 3: Do not merge\n\n(1 inline comment)\n\nHey Jeremiah,\n\nThanks a lot for this patch, your work and your thoughts.\n\nUnfortunately, I don't think multipart-form is something we want / need in Glance. As for now, there are several ways to work around your issue with browsers, but I guess the most common are:\n\n1) Use API v2\n2) Handle multipart in your application and pipe the request / data to glanceclient. (Just as horizon does)\n\n\nThe patch adds more code to Glance that will have to be maintained, debugged and that has a single use case, glance wise. \n\nAgain, thanks for the contribution. I hope the above makes sense to you.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "684cc6078e5db4b17735ce631d80a9f87ef2df69",
            "author": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "real_author": {
                "_account_id": 6499,
                "name": "yehia-beyh",
                "email": "yehia.beyh@hpe.com",
                "username": "yehia-beyh"
            },
            "date": "2013-06-14 13:52:42.000000000",
            "message": "Patch Set 3:\n\nThere are more multiple ways to support upload. Using multipart-for-mdata should be allowed. I am not sure why the strong objection to the code. The code has been tested and debugged and has been maintained at HP, it is being used in production. In addition, the blueprint has been approved for havana.\n\nThanks for you consideration.\n\n-Yehia",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "1cb26a92d2700ae184597a5e2010d10a77883a6b",
            "author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "real_author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "date": "2013-06-14 21:09:34.000000000",
            "message": "Patch Set 3:\n\nDavid and Flavio,\n\n   Thanks for taking the time to review the changes.\n\nI will try to address your comments/concerns below:\n\nConcern 1) Why not v2?\nWe did look at v2, however, for submitting from a browser, there are still some problems.  I do think moving away from the use of headers to submit the metadata is good.  However, the id of the upload still needs to be put in the headers for the actual POST.  For IE this is a non-starter without the ability to do multipart forms.  \n\nConcern 2) Why not do what dashboard does - provide a separate way to do uploading to the actual server and do the add locally?\nI considered this as an option, but the solution was lacking in my opinion for a couple of reasons.  First, it seems to leave glance incomplete in my opinion.  My opinion is that glance should be designed to handle image uploading in a robust fashion - why should adopters of glance have to reinvent the wheel to push their images because glance's solution, while improved in v2, is still not terribly robust or functional beyond simple raw access through curl (in my opinion).  Second, if we decide at some point to move glance to its own node for our needs, for example, we no longer have our application in tandem with glance - leaving us with the need again to cobble another solution.\n\nConcern 3) This is just another path to support so this change doubles the support (\"sound like dual maintenance for no reason\")\n\nActually, the change was designed to participate as much as possible with the code that was already there.  Most of the work is in the util changes or the deserializer to keep the code separate and easy to maintain.  The work to ensure that the actual payload looked like a file was to keep inline with the way glance does a straight binary payload POST.  Any maintenance of the way glance itself works should work for both straight binary dumps and multipart form dumps.\n\nAt the end of the day, browser uploads are bad news, and difficult to support (pre HTML5 anyway), but we won't be expecting our customers to issue curl commands to push their images either.  v2 moves towards a better answer, but still doesn't seem to address things like recovery from com/client/server failures resulting in a restart of the transfer and the ability to resend parts of the transfer (relying on http's idea of chunking the data).  Maybe that's ok, but it seems to me to be a hindrance for wider adoption.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "d92ca89f3dd70a789cb83cff7b254c37e33d3672",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2013-06-14 22:31:17.000000000",
            "message": "Patch Set 3:\n\nYehia,\n\nThe particular implementation is quite invasive and looks like a support/refactoring burden moving forward, for a feature that doesn't resonate with many of us. I originally approved the blueprint thinking that it would not be quite so invasive.\n\n\nJeremiah,\n\nThanks for your submission! I'm sorry to say that glance api v1 is enough of a mess that there isn't an easy or clean way to make the change to multipart form data. \n\nCan you go into more detail about \"However, the id of the upload still needs to be put in the headers for the actual POST. For IE this is a non-starter without the ability to do multipart forms.\" I'm not sure I understand, and it would be very interesting to phrase this feature as a v2 feature request.\n\nAs a separate suggestion, do you think it would be possible to implement multipart form support in a wsgi middleware that translates the content type from multipart form data to what glance v1 api currently expects? I think a middleware might be a good way to minimize the impact of this change.\n\n\nThanks guys.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "f796e013593cb8f57bae049256f4ff14556f489c",
            "author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "real_author": {
                "_account_id": 7767,
                "name": "Jeremiah Patterson",
                "email": "jeremiah.patterson@hp.com",
                "username": "jerpat"
            },
            "date": "2013-06-17 15:15:30.000000000",
            "message": "Patch Set 3:\n\nThe analysis I made for v2 was incorrect - when I had read it before, I thought that the PUT for the image required that the image id be passed in the headers - I could swear that's what I saw - I was looking at a draft of the spec and not the spec itself, but I may have just read it wrong too.\n\nAnyway, the id for the image is passed in the URL, so all is well there, the content type is the only header required, so my original \"non-starter\" comment is invalid.\n\nAs far as making the change in the middleware, technically, it is doable - my question is, are you sure you would want to do that?  Multipart forms are a generic construct and can encode any mime-type and can encode multiple files. \n\nGranted, the implementation I submitted doesn't take this into account, but pushing it down to Glance's wsgi layer would either mean many kinds of multipart forms would not work correctly, or implementing a more generic multipart form translation where, for example, multiple files would each be their own \"POST\" (for v1) - i.e., one request would generate several to the daemon code.\n\nThanks!",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "d2e50239a463faa7f6bce424b284dcd5eff95719",
            "author": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "real_author": {
                "_account_id": 5313,
                "name": "David Peraza",
                "email": "david_peraza@persistentsys.com",
                "username": "dperaza"
            },
            "date": "2013-06-24 15:38:26.000000000",
            "message": "Patch Set 3:\n\nThe move to implement this in v2 sounds right to me, we probably need to also figure out what will it take for nova to start using v2 client, that way things will flow better, you are probably still in v1 because nova has not moved to v2. I think overall we need to figure out why nova has not moved and help, this will simplify this dual maintenance of glance API versions.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "8b36ceefe9223fa6a97ebed77124be34c2f9c008",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2013-07-02 06:03:05.000000000",
            "message": "Patch Set 3:\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "f1b99448811ae5c3374253436b0b024220a9581d",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2013-07-02 06:03:05.000000000",
            "message": "Patch Set 3: Abandoned\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 3
        }
    ],
    "requirements": [],
    "submit_records": []
}