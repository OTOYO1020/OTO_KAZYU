{
    "id": "openstack%2Fglance~master~Ibae37198b3854aa5dbe0e8a643a3d4b8608666c5",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1197057",
    "hashtags": [],
    "change_id": "Ibae37198b3854aa5dbe0e8a643a3d4b8608666c5",
    "subject": "Dont raise NotFound in simple db image_tag_get_all",
    "status": "MERGED",
    "created": "2013-07-02 22:59:43.000000000",
    "updated": "2013-07-07 23:47:43.000000000",
    "submitted": "2013-07-07 23:47:43.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 5,
    "deletions": 1,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "e9bfd8917085c11a0daa7561ed32fb7c7475129f",
    "_number": 35412,
    "owner": {
        "_account_id": 177,
        "name": "Alex Meade",
        "email": "mr.alex.meade@gmail.com",
        "username": "alex-meade"
    },
    "labels": {
        "Verified": {
            "approved": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "_account_id": 177,
                    "name": "Alex Meade",
                    "email": "mr.alex.meade@gmail.com",
                    "username": "alex-meade"
                },
                {
                    "value": 2,
                    "date": "2013-07-07 23:47:43.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "all": [
                {
                    "value": 2,
                    "date": "2013-07-07 23:05:03.000000000",
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "value": 2,
                    "date": "2013-07-03 15:18:26.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 1,
                    "date": "2013-07-06 02:01:54.000000000",
                    "permitted_voting_range": {
                        "min": 1,
                        "max": 1
                    },
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "date": "2013-07-03 15:27:47.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 177,
                    "name": "Alex Meade",
                    "email": "mr.alex.meade@gmail.com",
                    "username": "alex-meade"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "all": [
                {
                    "value": 1,
                    "date": "2013-07-07 23:05:03.000000000",
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "value": 0,
                    "date": "2013-07-03 15:18:26.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "date": "2013-07-03 15:27:47.000000000",
                    "_account_id": 177,
                    "name": "Alex Meade",
                    "email": "mr.alex.meade@gmail.com",
                    "username": "alex-meade"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 4463,
                    "name": "iccha-sethi",
                    "email": "iccha.sethi@rackspace.com",
                    "username": "iccha-sethi"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 2537,
                    "name": "Nikhil Komawar",
                    "email": "nik.komawar@gmail.com",
                    "username": "nikhil-komawar"
                },
                {
                    "value": 0,
                    "_account_id": 177,
                    "name": "Alex Meade",
                    "email": "mr.alex.meade@gmail.com",
                    "username": "alex-meade"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 177,
                "name": "Alex Meade",
                "email": "mr.alex.meade@gmail.com",
                "username": "alex-meade"
            },
            {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2013-07-03 15:18:26.000000000",
            "updated_by": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "reviewer": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-07-06 02:01:54.000000000",
            "updated_by": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "reviewer": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-07-07 23:05:03.000000000",
            "updated_by": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "reviewer": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2013-07-07 23:47:43.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "a2ea69d535f43bea97a99657b6fd2cf1331e80f9",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-07-03 00:11:56.000000000",
            "message": "Patch Set 1: Works for me\n\nBuild succeeded.\n\n- http://logs.openstack.org/35412/1/check/gate-glance-pep8/5090 : SUCCESS in 1m 51s\n- http://docs-draft.openstack.org/35412/1/check/gate-glance-docs/3118/doc/build/html/ : SUCCESS in 1m 59s\n- http://logs.openstack.org/35412/1/check/gate-glance-python26/4535 : SUCCESS in 9m 11s\n- http://logs.openstack.org/35412/1/check/gate-glance-python27/4566 : SUCCESS in 7m 08s\n- http://logs.openstack.org/35412/1/check/gate-tempest-devstack-vm-full/28048 : SUCCESS in 43m 43s\n- http://logs.openstack.org/35412/1/check/gate-tempest-devstack-vm-postgres-full/27754 : SUCCESS in 56m 40s\n- http://logs.openstack.org/35412/1/check/gate-tempest-devstack-vm-quantum/35906 : SUCCESS in 18m 24s\n- http://logs.openstack.org/35412/1/check/gate-grenade-devstack-vm/14433 : FAILURE in 19m 33s (non-voting)\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "7691e1f746af7c302cea24950e388f754a3a2dc5",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2013-07-03 15:18:26.000000000",
            "message": "Patch Set 1: Looks good to me (core reviewer)\n\nI do wonder if maybe raising NotFound in the sqlalchemy driver would be more correct. But I'd rather change simple db as you've done here. And the fact that this change doesn't break any unit tests. . well. . apparently we're not relying on image_tag_get_all to tell us when an image doesn't exist.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "f061cd8c1e7fb8720e998e87385db1a0dbcb98ea",
            "author": {
                "_account_id": 177,
                "name": "Alex Meade",
                "email": "mr.alex.meade@gmail.com",
                "username": "alex-meade"
            },
            "real_author": {
                "_account_id": 177,
                "name": "Alex Meade",
                "email": "mr.alex.meade@gmail.com",
                "username": "alex-meade"
            },
            "date": "2013-07-03 15:27:47.000000000",
            "message": "Patch Set 1:\n\nJust for the record: My logic to retrun an empty list instead of a NotFound is so we do not do two queries in image_tag_get_all and I also rather not change sqlalchemy unless we need to since it is an interface change.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "e876fdfcadd984fbc126bdbfd1f4818d45661f6e",
            "author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "real_author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "date": "2013-07-03 15:36:25.000000000",
            "message": "Patch Set 1:\n\nhttps://github.com/openstack/glance/blob/master/glance/api/v2/router.py#L83\n\nthe image tags resource is accessed via an image resource, should we be indicating to the user that the image no longer exists for which they are trying to access the tag?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "60163e626affeb76562a9ff3736d13ee5f047b0f",
            "author": {
                "_account_id": 177,
                "name": "Alex Meade",
                "email": "mr.alex.meade@gmail.com",
                "username": "alex-meade"
            },
            "real_author": {
                "_account_id": 177,
                "name": "Alex Meade",
                "email": "mr.alex.meade@gmail.com",
                "username": "alex-meade"
            },
            "date": "2013-07-03 17:08:37.000000000",
            "message": "Patch Set 1:\n\nIt still gives a 404 if the image is not found when trying to update or delete an image tag. It would be nice if it differentiated between which resource is not found instead of always saying \"An object with the specified identifier was not found.\" This patch doesn't change any api behavior, just makes sure db drivers are consistent.\n\nDoes this address your concern?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "92d3983149b65199828c27c92670967b39d36359",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2013-07-03 18:57:23.000000000",
            "message": "Patch Set 1:\n\nwould that mean the image tags would be returned for a deleted image?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "ac5a993484707ce40401973d450f0415eedde43a",
            "author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "real_author": {
                "_account_id": 2537,
                "name": "Nikhil Komawar",
                "email": "nik.komawar@gmail.com",
                "username": "nikhil-komawar"
            },
            "date": "2013-07-06 02:01:54.000000000",
            "message": "Patch Set 1: Looks good to me, but someone else must approve\n\nwell, nvm Alex. read it wrong (sqlalchemy for simple). Downside of having too many windows open, guess.\n\nlgtm",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "af02a009ecfe833ef8588761d4e2e120b338ce40",
            "author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "real_author": {
                "_account_id": 4463,
                "name": "iccha-sethi",
                "email": "iccha.sethi@rackspace.com",
                "username": "iccha-sethi"
            },
            "date": "2013-07-07 23:05:03.000000000",
            "message": "Patch Set 1: Looks good to me (core reviewer); Approved\n\nmakes sense",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "e65e7e1e3b4f8a757ea6e4f06acd0493ffcbda3a",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-07-07 23:05:05.000000000",
            "message": "Patch Set 1: No score\n\nStarting gate jobs.\nhttp://status.openstack.org/zuul/",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "5a49e2b62056e16168982dcaf83233d34f206512",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-07-07 23:47:43.000000000",
            "message": "Patch Set 1: Verified\n\nBuild succeeded.\n\n- http://docs-draft.openstack.org/35412/1/gate/gate-glance-docs/3160/doc/build/html/ : SUCCESS in 1m 39s\n- http://logs.openstack.org/35412/1/gate/gate-glance-pep8/5132 : SUCCESS in 1m 35s\n- http://logs.openstack.org/35412/1/gate/gate-glance-python26/4577 : SUCCESS in 9m 06s\n- http://logs.openstack.org/35412/1/gate/gate-glance-python27/4608 : SUCCESS in 6m 52s\n- http://logs.openstack.org/35412/1/gate/gate-tempest-devstack-vm-full/29103 : SUCCESS in 41m 09s\n- http://logs.openstack.org/35412/1/gate/gate-tempest-devstack-vm-postgres-full/28809 : SUCCESS in 42m 34s\n- http://logs.openstack.org/35412/1/gate/gate-tempest-devstack-vm-neutron/149 : SUCCESS in 17m 07s\n- http://logs.openstack.org/35412/1/gate/gate-grenade-devstack-vm/15372 : FAILURE in 10m 18s (non-voting)\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "27cf7b083dff8ac9f7ef7b40420325dffaa379e7",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2013-07-07 23:47:43.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 1
        }
    ],
    "requirements": [],
    "submit_records": []
}