{
    "id": "openstack%2Fglance~master~I614ad03374a2e31a945f12fb9588947022203f1f",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/944946",
    "hashtags": [],
    "change_id": "I614ad03374a2e31a945f12fb9588947022203f1f",
    "subject": "Add support for auth version 2.",
    "status": "MERGED",
    "created": "2012-03-27 06:40:00.000000000",
    "updated": "2012-03-29 17:53:52.000000000",
    "submitted": "2012-03-29 17:53:51.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 69,
    "deletions": 35,
    "total_comment_count": 6,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "587330c6da96e5dad74c62991a500a09f1343ecf",
    "_number": 5856,
    "owner": {
        "_account_id": 2036,
        "name": "Juerg Haefliger",
        "email": "juerg.haefliger@hpe.com",
        "username": "juergh"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 2036,
                    "name": "Juerg Haefliger",
                    "email": "juerg.haefliger@hpe.com",
                    "username": "juergh"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 7,
                    "name": "Jay Pipes",
                    "email": "jaypipes@gmail.com",
                    "username": "jaypipes"
                },
                {
                    "value": 0,
                    "_account_id": 866,
                    "name": "Chmouel Boudjnah",
                    "email": "chmouel@chmouel.com",
                    "username": "chmouel"
                },
                {
                    "value": 1,
                    "date": "2012-03-29 17:53:51.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 2,
                    "date": "2012-03-29 17:26:43.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "date": "2012-03-28 13:34:53.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 2036,
                    "name": "Juerg Haefliger",
                    "email": "juerg.haefliger@hpe.com",
                    "username": "juergh"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 2,
                    "date": "2012-03-28 22:26:46.000000000",
                    "_account_id": 7,
                    "name": "Jay Pipes",
                    "email": "jaypipes@gmail.com",
                    "username": "jaypipes"
                },
                {
                    "value": 1,
                    "date": "2012-03-29 15:16:54.000000000",
                    "permitted_voting_range": {
                        "min": 1,
                        "max": 1
                    },
                    "_account_id": 866,
                    "name": "Chmouel Boudjnah",
                    "email": "chmouel@chmouel.com",
                    "username": "chmouel"
                },
                {
                    "value": 0,
                    "date": "2012-03-29 17:53:51.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": 1,
                    "date": "2012-03-29 17:26:43.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 2036,
                    "name": "Juerg Haefliger",
                    "email": "juerg.haefliger@hpe.com",
                    "username": "juergh"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "date": "2012-03-28 22:26:46.000000000",
                    "_account_id": 7,
                    "name": "Jay Pipes",
                    "email": "jaypipes@gmail.com",
                    "username": "jaypipes"
                },
                {
                    "value": 0,
                    "_account_id": 866,
                    "name": "Chmouel Boudjnah",
                    "email": "chmouel@chmouel.com",
                    "username": "chmouel"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 2036,
                    "name": "Juerg Haefliger",
                    "email": "juerg.haefliger@hpe.com",
                    "username": "juergh"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 7,
                    "name": "Jay Pipes",
                    "email": "jaypipes@gmail.com",
                    "username": "jaypipes"
                },
                {
                    "value": 0,
                    "_account_id": 866,
                    "name": "Chmouel Boudjnah",
                    "email": "chmouel@chmouel.com",
                    "username": "chmouel"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2012-03-27 07:28:00.000000000",
            "updated_by": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "reviewer": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-03-28 22:26:46.000000000",
            "updated_by": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "reviewer": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-03-29 15:16:54.000000000",
            "updated_by": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "reviewer": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-03-29 17:26:43.000000000",
            "updated_by": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "reviewer": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-03-29 17:53:51.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "0245c75de20db5648d3ba3ae88fb177810b52b60",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-03-27 07:28:00.000000000",
            "message": "Patch Set 1:\n\nSmokeStack Results (patch set 1):\n\tUnit Success: http://smokestack.openstack.org/?go=/jobs/16549\n\tLibvirt (Fedora 16) Success: http://smokestack.openstack.org/?go=/jobs/16547\n\tXenServer (Ubuntu 11.10) Success: http://smokestack.openstack.org/?go=/jobs/16548",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "c307e43cb16c08e114210b7aa1053022d51f0038",
            "author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "real_author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "date": "2012-03-27 09:28:30.000000000",
            "message": "Patch Set 1: I would prefer that you didn't submit this\n\nWe probably want to have it defaulting to 2.0 as this is how we expect to work in the future. \n\nAny chance to have the default config file updated (glance-api-paste.ini) with the new variable and a comment?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "2667018ac92df3a957cdc5bfb0fc8b47010c288e",
            "author": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "real_author": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "date": "2012-03-27 16:50:40.000000000",
            "message": "Patch Set 1: I would prefer that you didn't submit this\n\n(2 inline comments)\n\nFix looks good, but see inline suggestion on the tests...",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d954030373e3a6ab0a4ede2a3c8eaedef8af955d",
            "author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "real_author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "date": "2012-03-27 17:04:49.000000000",
            "message": "Patch Set 1:\n\nAnother thing to update, we probably want to update the comment on swift_store_auth_address :\n\n17:55:05 FlorianOtel | chmouel, on smth else but related: the format of \"swift_store_auth_address\" in \"glance-api.conf\". It says it is\n                     | \"Address where the Swift authentication service lives\". In the config I got from uksysadmin  it actually points\n                     | to Keystone service port (i.e. 5000) whereas the default in the source is Swift itself... [11:01:36]\n17:55:05     halfss_ | is there anybody know why? [11:01:42]\n17:55:05     chmouel | FlorianOtel: feel free to comment on the review so Juerg can update  it [11:02:59]\n17:55:05 FlorianOtel | chmouel, Will do. [11:03:28]\n\nBy the way, good work! I have tested and it work seamlessly. \n\nBy the way, I think in the future it may be an idea to use auth_token to be able to store image in the tenant/account who's uploading. What do you think Jay?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "fba02f1e16f88367a99e1b9cfcecb71722c9322f",
            "author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "real_author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "date": "2012-03-28 07:41:11.000000000",
            "message": "Patch Set 1: (1 inline comment)\n\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "9314a70a5787f0099b3c5544c59ccf4af98a2fe5",
            "author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "real_author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "date": "2012-03-28 08:29:44.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "c509e9681bdb3cb487491fd81310a42e001d96e5",
            "author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "real_author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "date": "2012-03-28 09:15:55.000000000",
            "message": "Patch Set 2: I would prefer that you didn't submit this\n\n(1 inline comment)\n\nThanks for the changes, just a minor comment for me.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "55bd962721726e5a14a42c5ca9d8b3d324a9e518",
            "author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "real_author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "date": "2012-03-28 13:34:53.000000000",
            "message": "Patch Set 2: (1 inline comment)\n\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "f898a5a9022d76969ce2b6b9fd4ab9befa8000a5",
            "author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "real_author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "date": "2012-03-28 16:32:30.000000000",
            "message": "Patch Set 2:\n\nI believe this need to be the user service (ie: 5000) as we are effectively connecting with a username and password.\n\n\nYou are right about the no need of /tokens but we need to make sure to add a trailing slash at the end. This may need some documentation update as this may becoming a common mistake.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "ad5e7e03fb1739d24a54257e65ed8125d1186a47",
            "author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "real_author": {
                "_account_id": 2036,
                "name": "Juerg Haefliger",
                "email": "juerg.haefliger@hpe.com",
                "username": "juergh"
            },
            "date": "2012-03-28 17:27:22.000000000",
            "message": "Patch Set 2:\n\nRather than documenting it, we should fix the code to add a trailing slash if it's missing.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "7c0bf716ebb97518e5c5d8febab1d5e2eb5f23ae",
            "author": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "real_author": {
                "_account_id": 7,
                "name": "Jay Pipes",
                "email": "jaypipes@gmail.com",
                "username": "jaypipes"
            },
            "date": "2012-03-28 22:26:46.000000000",
            "message": "Patch Set 2: Looks good to me (core reviewer)\n\n(1 inline comment)\n\nthx Juerg, lgtm!",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "d8029517326bf0acc1ce40be902c029915c10295",
            "author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "real_author": {
                "_account_id": 866,
                "name": "Chmouel Boudjnah",
                "email": "chmouel@chmouel.com",
                "username": "chmouel"
            },
            "date": "2012-03-29 15:16:54.000000000",
            "message": "Patch Set 2: Looks good to me, but someone else must approve\n\nI am suggesting to have documentation update as we probably would not be able to have a fix by the time of Essex in swift (and a release).\n\nI really think the port should be 5000 tho\n\nChmouel.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "505ed69a689857169bf77cc57fde82aa85529360",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-03-29 17:26:43.000000000",
            "message": "Patch Set 2: Looks good to me (core reviewer); Approved\n\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "d9909704c0f5e285eb5b7871155ff18c59aa053d",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-03-29 17:53:51.000000000",
            "message": "Patch Set 2: Verified\n\nBuild Successful \n \nhttps://jenkins.openstack.org/job/gate-integration-tests-devstack-vm/3096/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-merge/520/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-pep8/700/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python26/212/ : SUCCESS \nhttps://jenkins.openstack.org/job/gate-glance-python27/202/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "da4fb1f9614c6b907a5f9547233782de5daf3401",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-03-29 17:53:52.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 2
        }
    ],
    "requirements": [],
    "submit_records": []
}