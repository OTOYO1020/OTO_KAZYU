{
    "id": "openstack%2Fglance~master~I7a090c552a936aadc3b1b52e438fed23f209238d",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/993284",
    "hashtags": [],
    "change_id": "I7a090c552a936aadc3b1b52e438fed23f209238d",
    "subject": "Add downgrade into db_sync method.",
    "status": "ABANDONED",
    "created": "2012-05-30 08:35:59.000000000",
    "updated": "2012-06-14 06:03:03.000000000",
    "insertions": 4,
    "deletions": 1,
    "total_comment_count": 1,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "34bcf0a6ea2b6b4ce3cd9ce6a49040fa2f243a40",
    "_number": 7900,
    "owner": {
        "_account_id": 2861,
        "name": "Vincent Hou",
        "email": "shou@us.ibm.com",
        "username": "houshengbo"
    },
    "labels": {
        "Verified": {
            "recommended": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "all": [
                {
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "_account_id": 2284,
                    "name": "Eoghan Glynn",
                    "email": "eglynn@redhat.com",
                    "username": "eglynn"
                },
                {
                    "_account_id": 2861,
                    "name": "Vincent Hou",
                    "email": "shou@us.ibm.com",
                    "username": "houshengbo"
                },
                {
                    "value": 1,
                    "date": "2012-06-04 09:19:39.000000000",
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 1,
                    "date": "2012-06-04 08:37:31.000000000",
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "disliked": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "all": [
                {
                    "value": -1,
                    "date": "2012-06-06 23:18:11.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2284,
                    "name": "Eoghan Glynn",
                    "email": "eglynn@redhat.com",
                    "username": "eglynn"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2861,
                    "name": "Vincent Hou",
                    "email": "shou@us.ibm.com",
                    "username": "houshengbo"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "date": "2012-06-04 08:37:31.000000000",
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 1
                    },
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "value": -1,
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "all": [
                {
                    "date": "2012-06-06 23:18:11.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "_account_id": 2284,
                    "name": "Eoghan Glynn",
                    "email": "eglynn@redhat.com",
                    "username": "eglynn"
                },
                {
                    "value": 0,
                    "permitted_voting_range": {
                        "min": -1,
                        "max": 0
                    },
                    "_account_id": 2861,
                    "name": "Vincent Hou",
                    "email": "shou@us.ibm.com",
                    "username": "houshengbo"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "_account_id": 2284,
                    "name": "Eoghan Glynn",
                    "email": "eglynn@redhat.com",
                    "username": "eglynn"
                },
                {
                    "_account_id": 2861,
                    "name": "Vincent Hou",
                    "email": "shou@us.ibm.com",
                    "username": "houshengbo"
                },
                {
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            {
                "_account_id": 2284,
                "name": "Eoghan Glynn",
                "email": "eglynn@redhat.com",
                "username": "eglynn"
            },
            {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2012-05-30 09:58:01.000000000",
            "updated_by": {
                "_account_id": 2284,
                "name": "Eoghan Glynn",
                "email": "eglynn@redhat.com",
                "username": "eglynn"
            },
            "reviewer": {
                "_account_id": 2284,
                "name": "Eoghan Glynn",
                "email": "eglynn@redhat.com",
                "username": "eglynn"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-04 08:37:31.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-04 09:19:39.000000000",
            "updated_by": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "reviewer": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-06-06 23:18:11.000000000",
            "updated_by": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "reviewer": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "971c74b71cd6994c8716247c96049c3daf1a7d7f",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-30 08:45:16.000000000",
            "message": "Patch Set 1: Doesn't seem to work\n\nBuild Failed \n \nhttps://jenkins.openstack.org/job/check-glance-pep8/26/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-merge/26/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-python26/26/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-python27/26/ : FAILURE",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "63ec16a6467773c5605de276453a8a5d7b9c806e",
            "author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "real_author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "date": "2012-05-30 09:06:54.000000000",
            "message": "Patch Set 1:\n\nHow can I run these jenkins tests locally?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "90795c4555e9338548d5c09659e579138b4de7d2",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-05-30 09:27:41.000000000",
            "message": "Patch Set 1: Works for me\n\nSmokeStack Results (patch set 1):\n\tUnit Success: http://smokestack.openstack.org/?go=/jobs/21664\n\tLibvirt (Fedora 16) Success: http://smokestack.openstack.org/?go=/jobs/21663\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "393ce16a0d066803c0c86777e41064676d2af5ab",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-05-30 09:50:52.000000000",
            "message": "Patch Set 1: Works for me\n\nBuild Successful \n \nhttps://jenkins.openstack.org/job/check-glance-python27/28/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-pep8/28/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-merge/28/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-python26/28/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "48e5644821e7a23181983c6510dcfb52cab4f5a6",
            "author": {
                "_account_id": 2284,
                "name": "Eoghan Glynn",
                "email": "eglynn@redhat.com",
                "username": "eglynn"
            },
            "real_author": {
                "_account_id": 2284,
                "name": "Eoghan Glynn",
                "email": "eglynn@redhat.com",
                "username": "eglynn"
            },
            "date": "2012-05-30 09:58:01.000000000",
            "message": "Patch Set 1: (1 inline comment)\n\nThanks for the patch Vincent,\n\nOne comment inline to address.\n\nTo answer your question, you can run the tests locally in the same way as the Jenkins slave via:\n\n   tox -epy27\n\nBTW I re-triggered the Jenkins build and it succeeded second time round so it looks like a transient failure unrelated to your patch.\n\nCheers,\nEoghan",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "abf2a152dc7948947e7585f251f9c16d262e6bbd",
            "author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "real_author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "date": "2012-05-31 01:50:00.000000000",
            "message": "Patch Set 1:\n\nThank you, Eglynn.",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "d22afae138bc0151087d1ce393b2dfd3118becaf",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-05-31 17:56:30.000000000",
            "message": "Patch Set 1:\n\nWould you mind adding a newline following the top line of your commit message?",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "188b44f18a08ea62b121a6b7cc9d3f0f6bc619eb",
            "author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "real_author": {
                "_account_id": 2861,
                "name": "Vincent Hou",
                "email": "shou@us.ibm.com",
                "username": "houshengbo"
            },
            "date": "2012-06-04 08:28:08.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "6f62c8b51fc2bbe9fbe570622788155143d21732",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-06-04 08:37:31.000000000",
            "message": "Patch Set 2: Works for me\n\nBuild Successful \n \nhttps://jenkins.openstack.org/job/check-glance-pep8/68/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-merge/68/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-python26/70/ : SUCCESS \nhttps://jenkins.openstack.org/job/check-glance-python27/68/ : SUCCESS",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "10c5c3aeccfe095d3461db4a3fd6f5031301736e",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-06-04 09:19:39.000000000",
            "message": "Patch Set 2: Works for me\n\nSmokeStack Results (patch set 2):\n\tUnit Success: http://smokestack.openstack.org/?go=/jobs/22107\n\tLibvirt (Fedora 16) Success: http://smokestack.openstack.org/?go=/jobs/22106\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "7e458f93186a364f8a08b88ca28ae53f94415d9b",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-06-06 23:18:11.000000000",
            "message": "Patch Set 2: I would prefer that you didn't merge this\n\nFinally got around to functionally testing this - I'm not sure this approach is going to work. The code expects you to pass in current_version, but if I try to do that I get an error complaining that the db is already under version control. I think we might need to refactor how our glance-manage db* commands work altogether. Seeing as we have the ability to downgrade using 'glance-manage downgrade X', I'm going to suggest that we abandon this and close the bug report as 'Won't Fix' for now.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "35f6d44131f9e4f9b589388faf4018d5e18656ec",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2012-06-14 06:03:03.000000000",
            "message": "Patch Set 2: Abandoned\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "1d73c5706d8ba9d28dfb6ce15449dffcaadf697c",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2012-06-14 06:03:03.000000000",
            "message": "Patch Set 2:\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 2
        }
    ],
    "requirements": [],
    "submit_records": []
}