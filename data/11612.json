{
    "id": "openstack%2Fglance~master~I2cbb61fd88a6ec4fb03fa84196ba0a380b3842d0",
    "project": "openstack/glance",
    "branch": "master",
    "topic": "bug/1036193",
    "hashtags": [],
    "change_id": "I2cbb61fd88a6ec4fb03fa84196ba0a380b3842d0",
    "subject": "Instantiate wsgi app for each worker",
    "status": "MERGED",
    "created": "2012-08-18 20:55:57.000000000",
    "updated": "2012-09-04 22:24:31.000000000",
    "submitted": "2012-09-04 22:24:31.000000000",
    "submitter": {
        "_account_id": 3,
        "name": "Jenkins",
        "username": "jenkins"
    },
    "insertions": 53,
    "deletions": 61,
    "total_comment_count": 0,
    "unresolved_comment_count": 0,
    "has_review_started": true,
    "meta_rev_id": "565d22ae2ed3052036ff3a608f82f9757dcddd58",
    "_number": 11612,
    "owner": {
        "_account_id": 1132,
        "name": "Brian Waldon",
        "email": "brian@waldon.cc",
        "username": "bcwaldon"
    },
    "labels": {
        "Verified": {
            "approved": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "recommended": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 100,
                    "name": "Johannes Erdfelt",
                    "email": "johannes@erdfelt.com",
                    "username": "johannes.erdfelt"
                },
                {
                    "value": 1,
                    "date": "2012-09-04 04:21:55.000000000",
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 1030,
                    "name": "Chris Behrens",
                    "email": "cbehrens@codestud.com",
                    "username": "cbehrens"
                },
                {
                    "value": 0,
                    "_account_id": 706,
                    "name": "Brian Lamar",
                    "email": "brian.lamar@rackspace.com",
                    "username": "blamar"
                },
                {
                    "value": 2,
                    "date": "2012-09-04 22:24:31.000000000",
                    "post_submit": true,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Fails",
                "-1": "Doesn't seem to work",
                " 0": "No score",
                "+1": "Works for me",
                "+2": "Verified"
            },
            "description": "",
            "value": 1,
            "default_value": 0,
            "optional": true
        },
        "Code-Review": {
            "approved": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "all": [
                {
                    "value": 0,
                    "date": "2012-09-04 05:04:53.000000000",
                    "permitted_voting_range": {
                        "min": 0,
                        "max": 1
                    },
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 2,
                    "date": "2012-09-04 22:07:42.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 100,
                    "name": "Johannes Erdfelt",
                    "email": "johannes@erdfelt.com",
                    "username": "johannes.erdfelt"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 1030,
                    "name": "Chris Behrens",
                    "email": "cbehrens@codestud.com",
                    "username": "cbehrens"
                },
                {
                    "value": 2,
                    "date": "2012-09-04 14:37:11.000000000",
                    "_account_id": 706,
                    "name": "Brian Lamar",
                    "email": "brian.lamar@rackspace.com",
                    "username": "blamar"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-2": "Do not merge",
                "-1": "This patch needs further work before it can be merged",
                " 0": "No score",
                "+1": "Looks good to me, but someone else must approve",
                "+2": "Looks good to me (core reviewer)"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Workflow": {
            "approved": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "all": [
                {
                    "value": 0,
                    "date": "2012-09-04 05:04:53.000000000",
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 1,
                    "date": "2012-09-04 22:07:42.000000000",
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 100,
                    "name": "Johannes Erdfelt",
                    "email": "johannes@erdfelt.com",
                    "username": "johannes.erdfelt"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 1030,
                    "name": "Chris Behrens",
                    "email": "cbehrens@codestud.com",
                    "username": "cbehrens"
                },
                {
                    "value": 0,
                    "date": "2012-09-04 14:37:11.000000000",
                    "_account_id": 706,
                    "name": "Brian Lamar",
                    "email": "brian.lamar@rackspace.com",
                    "username": "blamar"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Work in progress",
                " 0": "Ready for reviews",
                "+1": "Approved"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        },
        "Review-Priority": {
            "all": [
                {
                    "value": 0,
                    "_account_id": 1132,
                    "name": "Brian Waldon",
                    "email": "brian@waldon.cc",
                    "username": "bcwaldon"
                },
                {
                    "value": 0,
                    "_account_id": 616,
                    "name": "Mark Washenberger",
                    "email": "mark.washenberger@markwash.net",
                    "username": "markwash"
                },
                {
                    "value": 0,
                    "_account_id": 100,
                    "name": "Johannes Erdfelt",
                    "email": "johannes@erdfelt.com",
                    "username": "johannes.erdfelt"
                },
                {
                    "value": 0,
                    "_account_id": 2166,
                    "name": "SmokeStack CI",
                    "username": "smokestack",
                    "tags": [
                        "SERVICE_USER"
                    ]
                },
                {
                    "value": 0,
                    "_account_id": 1030,
                    "name": "Chris Behrens",
                    "email": "cbehrens@codestud.com",
                    "username": "cbehrens"
                },
                {
                    "value": 0,
                    "_account_id": 706,
                    "name": "Brian Lamar",
                    "email": "brian.lamar@rackspace.com",
                    "username": "blamar"
                },
                {
                    "value": 0,
                    "_account_id": 3,
                    "name": "Jenkins",
                    "username": "jenkins"
                }
            ],
            "values": {
                "-1": "Branch Freeze",
                " 0": "No Priority",
                "+1": "Important Change",
                "+2": "Top Priority / Holds Gate"
            },
            "description": "",
            "default_value": 0,
            "optional": true
        }
    },
    "removable_reviewers": [],
    "reviewers": {
        "REVIEWER": [
            {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            {
                "_account_id": 1030,
                "name": "Chris Behrens",
                "email": "cbehrens@codestud.com",
                "username": "cbehrens"
            },
            {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            }
        ]
    },
    "pending_reviewers": {},
    "reviewer_updates": [
        {
            "updated": "2012-08-18 23:07:42.000000000",
            "updated_by": {
                "_account_id": 1030,
                "name": "Chris Behrens",
                "email": "cbehrens@codestud.com",
                "username": "cbehrens"
            },
            "reviewer": {
                "_account_id": 1030,
                "name": "Chris Behrens",
                "email": "cbehrens@codestud.com",
                "username": "cbehrens"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-09-01 15:27:59.000000000",
            "updated_by": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "reviewer": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-09-04 04:21:55.000000000",
            "updated_by": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "reviewer": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-09-04 14:37:11.000000000",
            "updated_by": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "reviewer": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-09-04 22:07:42.000000000",
            "updated_by": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "reviewer": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "state": "REVIEWER"
        },
        {
            "updated": "2012-09-04 22:24:31.000000000",
            "updated_by": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "reviewer": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "state": "REVIEWER"
        }
    ],
    "messages": [
        {
            "id": "7ade251c87f991702740ca4a4eb133b57a505b4d",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-18 21:03:16.000000000",
            "message": "Patch Set 1: Doesn't seem to work\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/1825/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-docs/3/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1937/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/1444/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-glance-python27/1448/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-tempest-devstack-vm/8424/consoleFull : FAILURE\n",
            "accounts_in_message": [],
            "_revision_number": 1
        },
        {
            "id": "2d5bd09981a6824e4f982187cccde6c3f318a528",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-18 21:20:15.000000000",
            "message": "Uploaded patch set 2.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "b7c125e1d2d0dc5dc5a8946712d07810a716fcc2",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-18 21:33:59.000000000",
            "message": "Patch Set 2: Doesn't seem to work\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/1826/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-docs/4/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1938/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/1445/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-glance-python27/1449/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-tempest-devstack-vm/8425/consoleFull : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "7ef8031fa294adc4b25568b0e49c88707d0f6558",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-08-18 21:43:04.000000000",
            "message": "Patch Set 2: Doesn't seem to work\n\nSmokeStack Results (patch set 2):\n\tUnit Failed:Glance tests failed.  http://smokestack.openstack.org/?go=/jobs/30422\n\tLibvirt (Fedora 17) Success: http://smokestack.openstack.org/?go=/jobs/30420\n\tXenServer 5.6 (F17 domU) Running: http://smokestack.openstack.org/?go=/jobs/30421\n",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "98dde01ed6abb78da44dc33e370145260f86f315",
            "author": {
                "_account_id": 1030,
                "name": "Chris Behrens",
                "email": "cbehrens@codestud.com",
                "username": "cbehrens"
            },
            "real_author": {
                "_account_id": 1030,
                "name": "Chris Behrens",
                "email": "cbehrens@codestud.com",
                "username": "cbehrens"
            },
            "date": "2012-08-18 23:07:42.000000000",
            "message": "Patch Set 2:\n\nSeems reasonable once tests pass.",
            "accounts_in_message": [],
            "_revision_number": 2
        },
        {
            "id": "02e8dcf1dc8d4447630573698ba608246f82c507",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-18 23:16:32.000000000",
            "message": "Uploaded patch set 3.",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "4cf30c8da8da38fd02d9d37ea7a5fac7624ecf89",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-18 23:29:15.000000000",
            "message": "Patch Set 3: Doesn't seem to work\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/1827/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-docs/5/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1939/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/1446/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-glance-python27/1450/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-tempest-devstack-vm/8426/consoleFull : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "ef12975503c74f979be137377c6a871ced54e08e",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-08-18 23:41:11.000000000",
            "message": "Patch Set 3: Doesn't seem to work\n\nSmokeStack Results (patch set 3):\n\tUnit Failed:Glance tests failed.  http://smokestack.openstack.org/?go=/jobs/30425\n\tLibvirt (Fedora 17) Success: http://smokestack.openstack.org/?go=/jobs/30423\n\tXenServer 5.6 (F17 domU) Success: http://smokestack.openstack.org/?go=/jobs/30424\n",
            "accounts_in_message": [],
            "_revision_number": 3
        },
        {
            "id": "01edf63b10796b2b9fce310b9263301fb8261cec",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-19 02:14:16.000000000",
            "message": "Uploaded patch set 4.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "406b7d600241308173d8ae072fd5c75789675b2c",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-19 02:14:47.000000000",
            "message": "Patch Set 4:\n\nI fixed all but one of the tests. I'm having some trouble figuring out what's going on, but I'll get back to it eventually.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "16c63c0c29f319f341d9bf1e75ded12f65d036df",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-19 02:27:13.000000000",
            "message": "Patch Set 4: Doesn't seem to work\n\nBuild failed\n\n- https://jenkins.openstack.org/job/gate-glance-merge/1828/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-docs/6/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-pep8/1940/consoleFull : SUCCESS\n- https://jenkins.openstack.org/job/gate-glance-python26/1447/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-glance-python27/1451/consoleFull : FAILURE\n- https://jenkins.openstack.org/job/gate-tempest-devstack-vm/8427/consoleFull : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "c3dc68516ac13f63627ff8e52ad796f6e878f0c1",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-08-19 02:35:06.000000000",
            "message": "Patch Set 4: Doesn't seem to work\n\nSmokeStack Results (patch set 4):\n\tUnit Failed:Glance tests failed.  http://smokestack.openstack.org/?go=/jobs/30428\n\tLibvirt (Fedora 17) Success: http://smokestack.openstack.org/?go=/jobs/30426\n\tXenServer 5.6 (F17 domU) Success: http://smokestack.openstack.org/?go=/jobs/30427\n",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "77dc80cdf3353dab852c004576a3467bbdad62d6",
            "author": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "real_author": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "date": "2012-08-20 22:48:02.000000000",
            "message": "Patch Set 4: I would prefer that you didn't merge this\n\nThe unit test failure here is a tricky one to solve.\n\nThe test that is failing depends on the app exiting as quickly as possible because of an invalid default_store option. This happens when the paste app is loaded and glance.api.v1.images:Controller.verify_scheme_or_exit exits. It expects the process to exit before it has bound the listening port, because of how glance.tests.functional.__init__:FunctionalTest.wait_for_servers is implemented.\n\nThis patch delays the initialization of the app now until after the process (potentially) forks, which is also after the listening port is bound (which must happen before the fork).\n\nAs a result, the test fails when it sees the port is listening before the tested process checks the default_store option and exits.\n\nUltimately, the goal of delaying configuring the database as late as possible (to fix the bug) conflicts with the goals of the test, which is to fail as early as possible (before the port is listening).\n\nPossible solutions.\n1) Use pre-patch style of initializing the application but delay configuring the database until it's first used (similar to nova).\n2) Change the tests to not use a listening port as an indicator that the test has failed.\n3) Force the database connection to be reopened after fork.\n\nOption 1 is a significant change to how glance works, but there is some precedent since this is how nova works. It also has the downside of failing kind of late if the database connection isn't configured properly, or the database isn't working.\n\nOption 2 would require some significant changes to how the tests work. I also kind of like the existing test since code should fail as fast as possible. I'm also not sure what an appropriate alternative method of checking if the process actually started would be.\n\nOption 3 is a little hacky since it requires some code to close the database connection after fork. If option 1 is a good option, then we could implement a hybrid, where the database is quickly checked early, but a new connection is opened after fork. This would be a simple solution however.\n\nI'm going to think some more about this and see if I can come up with a simpler and cleaner solution.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "bb65b68f77750a7c4797a333449302aa4b2b6c10",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-21 20:43:42.000000000",
            "message": "Patch Set 4:\n\nMy immediate thought is that option 2 is the best path forward. I don't like doing funky things with db connections - whether its initializing late or opening/killing/re-opening them. I'll think about how we can rewrite this one test to be more precise about what it is asserting.",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "a16c90b416d69853d3f41b5214ba175ca5317d7a",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2012-08-29 06:03:07.000000000",
            "message": "Patch Set 4:\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "1616154ac6f6c35299c22840f1092710b18d92bb",
            "author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "real_author": {
                "_account_id": 9,
                "name": "LaunchpadSync",
                "username": "launchpadsync"
            },
            "date": "2012-08-29 06:03:07.000000000",
            "message": "Patch Set 4: Abandoned\n\ncode review expired after 1 week of no activity after a negative review, it can be restored using the `Restore Change` button under the Patch Set on the web interface",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "e856735d137ea3af875ab2a6d4e370b44f7655a2",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-29 14:31:46.000000000",
            "message": "Patch Set 4: Restored",
            "accounts_in_message": [],
            "_revision_number": 4
        },
        {
            "id": "7ef1e2836314e41cc6dbd4bcf9b24c01136e279c",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-29 15:34:25.000000000",
            "message": "Uploaded patch set 5.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "914077667995173f39626f3c76323103e9a1b2d1",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-29 15:37:14.000000000",
            "message": "Patch Set 5:\n\nSo I really want to fix the bug referenced in the commit message for Folsom. I think there is a lot of work we can do to improve our testing practices but that will have to wait until Grizzly.\n\nWhat I've done to get this test to pass is set expect_launch=True in the call to start_with_retry. That is going to allow us to assert that the server binds but immediately dies, where before it wasn't even binding before death.\n\nAre we okay with this as a temporary fix to get this critical bug fixed?",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "ba429aac144c7188ee10c7e2c42079c1b2d5aa5a",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-08-29 16:05:30.000000000",
            "message": "Patch Set 5: Works for me\n\nSmokeStack Results (patch set 5):\n\tUnit Success: http://smokestack.openstack.org/?go=/jobs/32084\n\tLibvirt (Fedora 17) Success: http://smokestack.openstack.org/?go=/jobs/32097\n\tXenServer 5.6 (F17 domU) Success: http://smokestack.openstack.org/?go=/jobs/32083\n",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "f6c3b8af7c9cd62140197f97ed997d7b48b82028",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-29 16:10:23.000000000",
            "message": "Patch Set 5: Doesn't seem to work\n\nBuild failed\n\n- http://logs.openstack.org/11612/5/check/gate-glance-merge/1990 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-docs/168 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-pep8/2102 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-python26/1609 : FAILURE\n- http://logs.openstack.org/11612/5/check/gate-glance-python27/1613 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-tempest-devstack-vm/9616 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "e6ef2fe1ff275951b7bcae7c3ac72b67f75c48a0",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-30 03:28:35.000000000",
            "message": "Patch Set 5:\n\nrecheck",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "e0e4f1feb10aa70a3c47dae9294fbbc8493a3b9b",
            "author": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "real_author": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "date": "2012-08-30 03:35:38.000000000",
            "message": "Patch Set 5: Looks good to me (core reviewer)\n\nDefinitely fine with this approach if tests pass!",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "f48595581071fb4bd169f0a8c6a9cd3af8b09ba4",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-30 03:46:24.000000000",
            "message": "Patch Set 5:\n\nBuild failed\n\n- http://logs.openstack.org/11612/5/check/gate-glance-merge/2010 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-docs/188 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-pep8/2122 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-python26/1629 : FAILURE\n- http://logs.openstack.org/11612/5/check/gate-glance-python27/1641 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-tempest-devstack-vm/9751 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "a4dc814e0b2ed582f051b698c49e46071021723c",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-08-30 04:19:13.000000000",
            "message": "Patch Set 5:\n\nrecheck",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "b9259a6a140d8f9e4cea621f5fce26173569b742",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-08-30 04:35:51.000000000",
            "message": "Patch Set 5: Works for me\n\nBuild successful\n\n- http://logs.openstack.org/11612/5/check/gate-glance-merge/2012 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-docs/190 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-pep8/2124 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-python26/1631 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-glance-python27/1643 : SUCCESS\n- http://logs.openstack.org/11612/5/check/gate-tempest-devstack-vm/9755 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "74bdd8f34dd6472b05fc02103aa7f84c8539e2fb",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-01 08:06:48.000000000",
            "message": "Patch Set 5: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "3c2393c80107dcaf11d1a6636cd6bac53cd423d6",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2012-09-01 08:06:48.000000000",
            "message": "Patch Set 5: Looks good to me (core reviewer); Approved\n\nThis seems very much like the right approach.\n\nI'm a bit nervous that we will see some sort of inconsistency in read-after-write behavior if the app sharing was somehow glossing over some odd bug/behavior in the api. But I think the best we can do is keep an eye out for such problems and remember this change if they crop up.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "acb0a81463634820c1cb40bab30f904bcc471832",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-01 08:19:56.000000000",
            "message": "Patch Set 5: Fails\n\nBuild failed\n\n- http://logs.openstack.org/11612/5/gate/gate-glance-merge/2048 : SUCCESS\n- http://logs.openstack.org/11612/5/gate/gate-glance-docs/226 : SUCCESS\n- http://logs.openstack.org/11612/5/gate/gate-glance-pep8/2160 : SUCCESS\n- http://logs.openstack.org/11612/5/gate/gate-glance-python26/1667 : SUCCESS\n- http://logs.openstack.org/11612/5/gate/gate-glance-python27/1679 : FAILURE\n- http://logs.openstack.org/11612/5/gate/gate-tempest-devstack-vm/10038 : SUCCESS\n- http://logs.openstack.org/11612/5/gate/gate-tempest-devstack-vm-cinder/18 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "05faaa6d066aeb346117979771f277b4b1d66280",
            "author": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "real_author": {
                "_account_id": 100,
                "name": "Johannes Erdfelt",
                "email": "johannes@erdfelt.com",
                "username": "johannes.erdfelt"
            },
            "date": "2012-09-01 15:27:59.000000000",
            "message": "Patch Set 5:\n\nThe problem with just expecting the service to launch in the test is that it depends on timing. The service still dies, just after the socket is listening, so there is still a race condition that could be lost.\n\nI suspect that's why the python 2.7 unit tests failed this time.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "647ff2833aac7ff24593b4695d26963217332ece",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-09-04 04:04:16.000000000",
            "message": "Uploaded patch set 6.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "e7f40386bd97eb580b92c2a1191cce7b51f2bf0f",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-09-04 04:07:53.000000000",
            "message": "Patch Set 5:\n\nOk, so rather than not get this bug fixed, I decided to turn down the level of assertions in this problem test. Rather than expect a specific outcome of the call to server.start(), I've removed the expectation (since it is the most fragile). Now, the test attempts to start the server then waits for the process to die. I feel like that is an appropriate level of assertion for the functionality being tested here anyways - that a server with --respawn doesn't respawn forever.",
            "accounts_in_message": [],
            "_revision_number": 5
        },
        {
            "id": "1d7c067a789dc5d40e2f242bac68f117725464c6",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-04 04:20:11.000000000",
            "message": "Patch Set 6: Doesn't seem to work\n\nBuild failed\n\n- http://logs.openstack.org/11612/6/check/gate-glance-merge/2083 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-docs/261 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-pep8/2195 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-python26/1702 : FAILURE\n- http://logs.openstack.org/11612/6/check/gate-glance-python27/1714 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-tempest-devstack-vm/10165 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-tempest-devstack-vm-cinder/145 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "c050e6de521982f72da55b137c669d96db2a7540",
            "author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "real_author": {
                "_account_id": 2166,
                "name": "SmokeStack CI",
                "username": "smokestack",
                "tags": [
                    "SERVICE_USER"
                ]
            },
            "date": "2012-09-04 04:21:55.000000000",
            "message": "Patch Set 6: Works for me\n\nSmokeStack Results (patch set 6):\n\tUnit Success: http://smokestack.openstack.org/?go=/jobs/32872\n\tLibvirt (Fedora 17) Success: http://smokestack.openstack.org/?go=/jobs/32870\n\tXenServer 5.6 (F17 domU) Success: http://smokestack.openstack.org/?go=/jobs/32871\n",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "337538dde58fc45b91f87c993b037efeb90ff766",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-09-04 05:04:53.000000000",
            "message": "Patch Set 6:\n\nrecheck",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "fa2eee72350dcb248d9c5c7b655cfea71eb93d65",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-09-04 05:05:16.000000000",
            "message": "Patch Set 6:\n\nThat test failure hasnt been a problem in the past, but I might have to fix it like I did test_respawn",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "67782c9b93f0e84a6939baa2090c2a9c7443bba0",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-04 05:25:43.000000000",
            "message": "Patch Set 6: Works for me\n\nBuild successful\n\n- http://logs.openstack.org/11612/6/check/gate-glance-merge/2084 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-docs/262 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-pep8/2196 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-python26/1703 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-glance-python27/1715 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-tempest-devstack-vm/10170 : SUCCESS\n- http://logs.openstack.org/11612/6/check/gate-tempest-devstack-vm-cinder/150 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "86d2d809007eba243d138cca64b0b0498736a7e7",
            "author": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "real_author": {
                "_account_id": 706,
                "name": "Brian Lamar",
                "email": "brian.lamar@rackspace.com",
                "username": "blamar"
            },
            "date": "2012-09-04 14:37:11.000000000",
            "message": "Patch Set 6: Looks good to me (core reviewer)\n\nCan we get a good priority on getting this fixed for real in Grizzly? This works but needs to be looked at throughly for the future.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "6c2747a78c76028a63640fdb59e4aedf5903369f",
            "author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "real_author": {
                "_account_id": 1132,
                "name": "Brian Waldon",
                "email": "brian@waldon.cc",
                "username": "bcwaldon"
            },
            "date": "2012-09-04 20:08:28.000000000",
            "message": "Patch Set 6:\n\ndiscussed offline, will start creating bugs for each of the failing tests from here on",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "28741bae8d8bb7a2215d0a5be2742eec702362be",
            "author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "real_author": {
                "_account_id": 616,
                "name": "Mark Washenberger",
                "email": "mark.washenberger@markwash.net",
                "username": "markwash"
            },
            "date": "2012-09-04 22:07:42.000000000",
            "message": "Patch Set 6: Looks good to me (core reviewer); Approved\n\n",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "7569dfa233902098162edf15db9574a8b304f3f7",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-04 22:07:43.000000000",
            "message": "Patch Set 6: No score\n\nStarting gate jobs.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "9510403f9936a838896d1f9601d31d28f987521b",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-04 22:24:31.000000000",
            "message": "Change has been successfully merged into the git repository.",
            "accounts_in_message": [],
            "_revision_number": 6
        },
        {
            "id": "f1f7969b0b5ed04c6de22c10b4b9bb25a17099ab",
            "author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "real_author": {
                "_account_id": 3,
                "name": "Jenkins",
                "username": "jenkins"
            },
            "date": "2012-09-04 22:24:31.000000000",
            "message": "Patch Set 6: Verified\n\nBuild successful\n\n- http://logs.openstack.org/11612/6/gate/gate-glance-merge/2104 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-glance-docs/282 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-glance-pep8/2216 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-glance-python26/1723 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-glance-python27/1735 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-tempest-devstack-vm/10292 : SUCCESS\n- http://logs.openstack.org/11612/6/gate/gate-tempest-devstack-vm-cinder/272 : SUCCESS\n",
            "accounts_in_message": [],
            "_revision_number": 6
        }
    ],
    "requirements": [],
    "submit_records": []
}